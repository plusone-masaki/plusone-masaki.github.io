<!DOCTYPE html><html  data-capo=""><head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
<title>Nuxtの自動テスト環境を構築しました(1) | Plus one</title>
<script data-ad-client="ca-pub-9835503912749997" src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script>
<style>html{box-sizing:border-box;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;word-break:normal}*,:after,:before{background-repeat:no-repeat;box-sizing:inherit}:after,:before{text-decoration:inherit;vertical-align:inherit}*{margin:0;padding:0}hr{color:inherit;height:0;overflow:visible}details,main{display:block}summary{display:list-item}small{font-size:80%}[hidden]{display:none}abbr[title]{border-bottom:none;text-decoration:underline;-webkit-text-decoration:underline dotted;text-decoration:underline dotted}a{background-color:transparent;color:currentColor;text-decoration:none}a:active,a:hover{outline-width:0}code,kbd,pre,samp{font-family:monospace,monospace}pre{font-size:1em}b,strong{font-weight:bolder}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{border-color:inherit;text-indent:0}iframe{border-style:none}input{border-radius:0}[type=number]::-webkit-inner-spin-button,[type=number]::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}[type=search]::-webkit-search-decoration{-webkit-appearance:none}textarea{overflow:auto;resize:vertical}button,input,optgroup,select,textarea{font:inherit}optgroup{font-weight:700}button{overflow:visible}button,select{text-transform:none}[role=button],[type=button],[type=reset],[type=submit],button{cursor:pointer}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button::-moz-focus-inner{border-style:none;padding:0}[type=button]::-moz-focus-inner,[type=reset]::-moz-focus-inner,[type=submit]::-moz-focus-inner,button:-moz-focusring{outline:1px dotted ButtonText}[type=reset],[type=submit],button,html [type=button]{-webkit-appearance:button}button,input,select,textarea{background-color:transparent;border-style:none}a:focus,button:focus,input:focus,select:focus,textarea:focus{outline-width:0}select{-moz-appearance:none;-webkit-appearance:none}select::-ms-expand{display:none}select::-ms-value{color:currentColor}legend{border:0;color:inherit;display:table;max-width:100%;white-space:normal}::-webkit-file-upload-button{-webkit-appearance:button;color:inherit;font:inherit}[disabled]{cursor:default}img{border-style:none;max-width:100%;vertical-align:bottom}progress{vertical-align:baseline}[aria-busy=true]{cursor:progress}[aria-controls]{cursor:pointer}[aria-disabled=true]{cursor:default}</style>
<style>@charset "UTF-8";html{background:#fefefe;color:#292622;font-family:Meiryo,Meiryo UI,Hiragino Kaku Gothic ProN,ヒラギノ角ゴ ProN,Noto Sans CJK JP,Source Han Sans,Arial,sans-serif;line-height:1.65;scroll-behavior:smooth}li{list-style:none}.page{flex-grow:1;max-width:100%;padding:24px 8px}@media (min-width:960px){.page{max-width:960px;padding:24px 8px}}section.content+section.content{margin-top:40px}.content{background-color:#fff;border-radius:5px;box-shadow:0 0 2px rgba(0,0,0,.2);margin:0 auto;padding:12px}@media screen and (min-width:960px){.content{padding:24px}}.content__title{padding-bottom:12px;position:relative;text-align:center}.content__title:after{background-image:url(/plusone_wave_smart.svg);bottom:0;content:"";height:12px!important;left:0;margin:auto;position:absolute;right:0;width:164px}.content__cards{display:flex;flex-wrap:wrap;justify-content:flex-start;margin:0 auto;max-width:90vw;width:284px}@media (min-width:767px){.content__cards{width:568px}}@media (min-width:960px){.content__cards{width:852px}}.content__footer{display:flex;justify-content:flex-end}.card{background-color:#fff;border-radius:5px;box-shadow:0 0 2px rgba(0,0,0,.2);padding:16px}</style>
<style>@charset "UTF-8";.markdown-content h1{font-size:1.5rem}.markdown-content h1,.markdown-content h2{border-bottom:1px solid #eaecef;position:relative}.markdown-content h2{font-size:1.3rem;margin:2em 0 1em}.markdown-content h3{position:relative}.markdown-content h3,.markdown-content h4{font-size:1.1rem;margin:1.2em 0 0}.markdown-content h1 .header-anchor,.markdown-content h2 .header-anchor,.markdown-content h3 .header-anchor{color:#1e90ff;display:block;height:100%;opacity:0;position:absolute;right:0;top:0;transition:opacity .2s;width:100%}.markdown-content h1 .header-anchor:hover,.markdown-content h2 .header-anchor:hover,.markdown-content h3 .header-anchor:hover{opacity:1}.markdown-content h1 .header-anchor{left:-.9em}.markdown-content h2 .header-anchor{left:-1em}.markdown-content h3 .header-anchor{left:-1.1em}.markdown-content p{margin:0 0 .8em}.markdown-content p:has(img){text-align:center}.markdown-content img{border:2px solid #999}.markdown-content a:-moz-any-link{color:#1e90ff}.markdown-content a:any-link{color:#1e90ff}.markdown-content a[target=_blank]:after{color:#999;content:"⧉";font-size:.8em;margin-left:.2em}.markdown-content ul{margin:.8em 0 0}.markdown-content li{list-style-position:inside}.markdown-content table{border:1px solid #eaecef;border-collapse:collapse;margin:2em auto;max-width:100%;overflow-x:auto}.markdown-content thead th{border-bottom:1px solid #eaecef}.markdown-content td,.markdown-content th{border:1px solid #eaecef;padding:4px 16px}.markdown-content th{background:#f6f6ff}.markdown-content input{border:1px solid #eaecef;border-radius:5px;margin:.8em 0 0;padding:.2em .5em}.markdown-content code.hljs{margin:.8em 0 0}.markdown-content code:not(.hljs){background-color:hsla(0,0%,87%,.867);display:inline-block;line-height:1;padding:.1em .2em}.markdown-content hr{background-color:#eaecef;border:none;height:1px;margin:1.5em 0}.markdown-content .red{color:#f44336}.markdown-content .blue{color:#1e88e5}.markdown-content .large{font-size:150%}.markdown-content .x-large{font-size:200%}.markdown-content .markdown-toc{background-color:#f9f9f9;border:1px solid #eaecef;border-radius:5px;margin:1.5em 0;padding:1em}.markdown-content .markdown-toc-list{margin:0}.markdown-content .markdown-toc-item{list-style-position:inside;list-style-type:disc}.markdown-content .markdown-toc-link{color:#1e90ff}.markdown-content .custom-block{margin:1.5em 0;padding:1.5em}.markdown-content .custom-block li{list-style-type:disc}.markdown-content .custom-block.tip{background-color:#e6e6ff;border-left:.5em solid #1e90ff}.markdown-content .custom-block.details{background-color:#f9f9f9}.markdown-content .custom-block.warning{background-color:rgba(255,229,100,.3);border-left:.5em solid #e7c000;color:#6b5900}.markdown-content .custom-block.danger{background-color:#ffe6e6;border-left:.5em solid #c00;color:#4d0000}.markdown-content .custom-block.success{background-color:#e6ffe6;border-left:.5em solid #42b983}.markdown-content .custom-block-title{font-weight:700}</style>
<style>.justify-self-end{justify-self:end}.flex-grow-0{flex-grow:0}.flex-grow-1{flex-grow:1}.flex-shrink-0{flex-shrink:0}.flex-shrink-1{flex-shrink:1}.m-1{margin:4px!important}.m-2{margin:8px!important}.m-3{margin:12px!important}.m-4{margin:16px!important}.m-5{margin:20px!important}.m-6{margin:24px!important}.m-7{margin:28px!important}.m-8{margin:32px!important}.m-9{margin:36px!important}.m-10{margin:40px!important}.m-11{margin:48px!important}.m-12{margin:56px!important}.m-13{margin:64px!important}.m-14{margin:72px!important}.m-15{margin:80px!important}.mb-1{margin-bottom:4px!important}.mb-2{margin-bottom:8px!important}.mb-3{margin-bottom:12px!important}.mb-4{margin-bottom:16px!important}.mb-5{margin-bottom:20px!important}.mb-6{margin-bottom:24px!important}.mb-7{margin-bottom:28px!important}.mb-8{margin-bottom:32px!important}.mb-9{margin-bottom:36px!important}.mb-10{margin-bottom:40px!important}.mb-11{margin-bottom:48px!important}.mb-12{margin-bottom:56px!important}.mb-13{margin-bottom:64px!important}.mb-14{margin-bottom:72px!important}.mb-15{margin-bottom:80px!important}.ml-1{margin-left:4px!important}.ml-2{margin-left:8px!important}.ml-3{margin-left:12px!important}.ml-4{margin-left:16px!important}.ml-5{margin-left:20px!important}.ml-6{margin-left:24px!important}.ml-7{margin-left:28px!important}.ml-8{margin-left:32px!important}.ml-9{margin-left:36px!important}.ml-10{margin-left:40px!important}.ml-11{margin-left:48px!important}.ml-12{margin-left:56px!important}.ml-13{margin-left:64px!important}.ml-14{margin-left:72px!important}.ml-15{margin-left:80px!important}.mr-1{margin-right:4px!important}.mr-2{margin-right:8px!important}.mr-3{margin-right:12px!important}.mr-4{margin-right:16px!important}.mr-5{margin-right:20px!important}.mr-6{margin-right:24px!important}.mr-7{margin-right:28px!important}.mr-8{margin-right:32px!important}.mr-9{margin-right:36px!important}.mr-10{margin-right:40px!important}.mr-11{margin-right:48px!important}.mr-12{margin-right:56px!important}.mr-13{margin-right:64px!important}.mr-14{margin-right:72px!important}.mr-15{margin-right:80px!important}.mt-1{margin-top:4px!important}.mt-2{margin-top:8px!important}.mt-3{margin-top:12px!important}.mt-4{margin-top:16px!important}.mt-5{margin-top:20px!important}.mt-6{margin-top:24px!important}.mt-7{margin-top:28px!important}.mt-8{margin-top:32px!important}.mt-9{margin-top:36px!important}.mt-10{margin-top:40px!important}.mt-11{margin-top:48px!important}.mt-12{margin-top:56px!important}.mt-13{margin-top:64px!important}.mt-14{margin-top:72px!important}.mt-15{margin-top:80px!important}.p-1{padding:4px!important}.p-2{padding:8px!important}.p-3{padding:12px!important}.p-4{padding:16px!important}.p-5{padding:20px!important}.p-6{padding:24px!important}.p-7{padding:28px!important}.p-8{padding:32px!important}.p-9{padding:36px!important}.p-10{padding:40px!important}.p-11{padding:48px!important}.p-12{padding:56px!important}.p-13{padding:64px!important}.p-14{padding:72px!important}.p-15{padding:80px!important}.pb-1{padding-bottom:4px!important}.pb-2{padding-bottom:8px!important}.pb-3{padding-bottom:12px!important}.pb-4{padding-bottom:16px!important}.pb-5{padding-bottom:20px!important}.pb-6{padding-bottom:24px!important}.pb-7{padding-bottom:28px!important}.pb-8{padding-bottom:32px!important}.pb-9{padding-bottom:36px!important}.pb-10{padding-bottom:40px!important}.pb-11{padding-bottom:48px!important}.pb-12{padding-bottom:56px!important}.pb-13{padding-bottom:64px!important}.pb-14{padding-bottom:72px!important}.pb-15{padding-bottom:80px!important}.pl-1{padding-left:4px!important}.pl-2{padding-left:8px!important}.pl-3{padding-left:12px!important}.pl-4{padding-left:16px!important}.pl-5{padding-left:20px!important}.pl-6{padding-left:24px!important}.pl-7{padding-left:28px!important}.pl-8{padding-left:32px!important}.pl-9{padding-left:36px!important}.pl-10{padding-left:40px!important}.pl-11{padding-left:48px!important}.pl-12{padding-left:56px!important}.pl-13{padding-left:64px!important}.pl-14{padding-left:72px!important}.pl-15{padding-left:80px!important}.pr-1{padding-right:4px!important}.pr-2{padding-right:8px!important}.pr-3{padding-right:12px!important}.pr-4{padding-right:16px!important}.pr-5{padding-right:20px!important}.pr-6{padding-right:24px!important}.pr-7{padding-right:28px!important}.pr-8{padding-right:32px!important}.pr-9{padding-right:36px!important}.pr-10{padding-right:40px!important}.pr-11{padding-right:48px!important}.pr-12{padding-right:56px!important}.pr-13{padding-right:64px!important}.pr-14{padding-right:72px!important}.pr-15{padding-right:80px!important}.pt-1{padding-top:4px!important}.pt-2{padding-top:8px!important}.pt-3{padding-top:12px!important}.pt-4{padding-top:16px!important}.pt-5{padding-top:20px!important}.pt-6{padding-top:24px!important}.pt-7{padding-top:28px!important}.pt-8{padding-top:32px!important}.pt-9{padding-top:36px!important}.pt-10{padding-top:40px!important}.pt-11{padding-top:48px!important}.pt-12{padding-top:56px!important}.pt-13{padding-top:64px!important}.pt-14{padding-top:72px!important}.pt-15{padding-top:80px!important}.text-bold{font-weight:700!important}.text-center{text-align:center!important}.text-left{text-align:left!important}.text-right{text-align:right!important}.underline-slide-transition{position:relative}.underline-slide-transition:before{background:currentColor;bottom:0;content:"";height:2px;left:-2px;margin:auto;position:absolute;right:-2px;transform:scaleX(0);transform-origin:left top;transition:transform .2s}.router-link-active .underline-slide-transition:before,.underline-slide-transition:hover:before{transform:scale(1)}.linkable-arrow:after{background:currentColor;clip-path:polygon(0 0,100% 0,50% 100%);content:"";display:inline-block;height:10px;width:20px}</style>
<style>.hljs{background:#282c34;color:#abb2bf;display:block;overflow-x:auto;padding:.5em}.hljs-comment,.hljs-quote{color:#5c6370;font-style:italic}.hljs-doctag,.hljs-formula,.hljs-keyword{color:#c678dd}.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#e06c75}.hljs-literal{color:#56b6c2}.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#98c379}.hljs-built_in,.hljs-class .hljs-title{color:#e6c07b}.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#d19a66}.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#61aeee}.hljs-emphasis{font-style:italic}.hljs-strong{font-weight:700}.hljs-link{text-decoration:underline}</style>
<style>svg[data-v-e89afe9b]{transform:rotate(var(--r,0deg)) scale(var(--sx,1),var(--sy,1))}path[data-v-e89afe9b]{fill:currentColor}</style>
<style>.button-icon[data-v-7df5d459]{color:currentColor}.button-icon__svg[data-v-7df5d459]{vertical-align:bottom}</style>
<style>.header[data-v-4b8e5aa3]{background:#1919ff;color:#fff}.header__hero[data-v-4b8e5aa3]{align-items:end;background:#fff;display:block;justify-items:center;margin:0 auto;padding-top:20px;position:relative;row-gap:8px}.header__body[data-v-4b8e5aa3]{padding-bottom:32px;padding-top:24px}.header__logo[data-v-4b8e5aa3]{display:block;height:88px;text-align:center}.header__logo--img[data-v-4b8e5aa3]{height:100%}.header__body .header__logo[data-v-4b8e5aa3]{display:none;height:40px;margin-right:4px;padding-left:4px;padding-top:4px}.header__wave[data-v-4b8e5aa3]{height:20px;position:relative}.header__big-wave[data-v-4b8e5aa3]{bottom:0;height:80px;position:absolute;right:10%}.header__title[data-v-4b8e5aa3]{font-size:28px;text-align:center}.header__nav[data-v-4b8e5aa3]{position:relative}.header__menu[data-v-4b8e5aa3]{display:flex;justify-content:space-evenly;list-style:none;margin:0 auto;max-width:600px;padding:12px 0}.header__menu-item[data-v-4b8e5aa3]{color:inherit;display:inline-block;font-size:18px;position:relative;width:80px}.header__menu-activator[data-v-4b8e5aa3]{display:none}@media screen and (max-width:767px){.header[data-v-4b8e5aa3]{display:flex;flex-wrap:nowrap;justify-content:space-between}.header__hero[data-v-4b8e5aa3]{display:none}.header__body[data-v-4b8e5aa3]{align-items:center;display:flex;padding:0}.header__body .header__logo[data-v-4b8e5aa3]{display:initial}.header__nav[data-v-4b8e5aa3]{align-items:end;background:#1919ff;color:#fff;display:flex;height:44px;padding:8px}.header__title[data-v-4b8e5aa3]{font-size:16px;padding-top:8px}.header__bottom--logo[data-v-4b8e5aa3]{height:32px}.header__bottom--text[data-v-4b8e5aa3]{align-content:center;font-size:12px;padding-left:8px;padding-top:12px}.header__menu[data-v-4b8e5aa3]{background:#fff;border-radius:2px;box-shadow:2px 2px 6px rgba(0,0,0,.37);display:none;padding:8px 0;position:absolute;right:4px;top:100%;width:-moz-fit-content;width:fit-content;z-index:200}.header__menu.active[data-v-4b8e5aa3]{display:initial}.header__menu-item[data-v-4b8e5aa3]{border-bottom:1px solid #eaecef;color:#333;min-width:116px;padding:2px 16px}.header__menu-item--link[data-v-4b8e5aa3]>:after,.header__menu-item--link[data-v-4b8e5aa3]>:before{content:none!important}.header__menu-activator[data-v-4b8e5aa3]{display:initial}.header__menu--overlay[data-v-4b8e5aa3]{background:rgba(0,0,0,.08);height:100%;left:0;position:fixed;top:0;width:100%}}</style>
<style>.common-divider[data-v-47686652]{border-top:1px solid #acacac}</style>
<style>.card-profile__header[data-v-73751275]{display:flex}.card-profile__body[data-v-73751275]{padding:12px 4px}.card-profile__img[data-v-73751275]{height:88px;margin-right:8px;width:88px}.card-profile__personal-data[data-v-73751275]{display:flex;white-space:nowrap}.card-profile__sns-links[data-v-73751275]{display:flex}.card-profile__sns-link[data-v-73751275]{align-items:center;display:inline-flex;height:32px;justify-content:center;width:32px}.card-profile__sns-link--icon[data-v-73751275]{height:inherit;width:inherit}.card-profile__sns-link--img[data-v-73751275]{background:#3c4e50;border-radius:6px;height:26px;padding:4px;pointer-events:none;width:26px}.card-profile__sns-link--icon[data-v-73751275],.card-profile__sns-link--img[data-v-73751275]{align-items:center;display:inline-block;justify-content:center}</style>
<style>.common-chip[data-v-178f56f4]{align-items:center;background:transparent;border-radius:9999px;border-width:0;color:inherit;cursor:pointer;display:inline-flex;font-family:Roboto,sans-serif;font-size:10px;font-weight:400;height:24px;overflow:hidden;padding:0 8px;position:relative;text-align:center;vertical-align:middle;white-space:nowrap;width:-moz-fit-content;width:fit-content}@media screen and (min-width:960px){.common-chip[data-v-178f56f4]{font-size:.875rem;height:32px;padding:0 12px}}.common-chip.active[data-v-178f56f4]{border:2px solid #1e90ff}.common-chip__overlay[data-v-178f56f4]{background:currentColor;border-radius:inherit;height:100%;left:0;opacity:0;position:absolute;top:0;transition:opacity .2s ease-in-out;width:100%}.common-chip__overlay[data-v-178f56f4]:hover{opacity:.12}.common-chip__underlay[data-v-178f56f4]{background:currentColor;border-radius:inherit;bottom:0;left:0;opacity:.12;pointer-events:none;position:absolute;right:0;top:0}.common-chip__content[data-v-178f56f4]{align-items:center;display:inline-flex;letter-spacing:.25px}</style>
<style>.list-category__title[data-v-04f07d8a]{display:flex;flex-wrap:wrap;margin-bottom:16px}</style>
<style>.list-posts__post[data-v-905d43d0]{align-items:center;color:currentColor;display:flex;flex-wrap:wrap;justify-content:flex-start;min-height:56px;min-width:0;padding:12px 0;width:100%}@media screen and (min-width:960px){.list-posts__post[data-v-905d43d0]{flex-wrap:nowrap}}.list-posts__post[data-v-905d43d0]:hover{background:#eff0ff}.list-posts__post-category[data-v-905d43d0]{flex-shrink:0;margin-bottom:4px;margin-right:.875rem}@media screen and (min-width:960px){.list-posts__post-category[data-v-905d43d0]{width:148px}}.list-posts__post-published-at[data-v-905d43d0]{flex-shrink:0;font-size:.875rem;text-align:start}@media screen and (min-width:960px){.list-posts__post-published-at[data-v-905d43d0]{font-size:1rem;width:120px}}.list-posts__post-title[data-v-905d43d0]{display:inline-block;flex-grow:1;font-size:16px;font-weight:700;max-width:100%;min-width:0;overflow:hidden;text-align:start;text-overflow:ellipsis;white-space:nowrap;width:100%}@media screen and (min-width:960px){.list-posts__post-title[data-v-905d43d0]{font-size:20px;width:672px}}.compact .list-posts__post[data-v-905d43d0]{align-items:flex-start;flex-direction:column;min-height:40px;padding:8px 8px 4px}.compact .list-posts__post-title[data-v-905d43d0]{font-size:16px;font-weight:400}</style>
<style>.card-twitter-timeline{max-height:640px;overflow-y:scroll;padding:0}.card-twitter-timeline:has(a.twitter-timeline){padding:16px}</style>
<style>.sidebar[data-v-0ae83570]{display:none}@media screen and (min-width:1280px){.sidebar[data-v-0ae83570]{display:block;padding:24px 8px;width:320px}}</style>
<style>.link-arrow[data-v-e52e8f6a]{align-items:end;display:inline-flex;height:24px;margin-left:-24px;padding:0 40px;position:relative;width:216px}.link-arrow[data-v-e52e8f6a]:hover{text-shadow:.1px .1px currentColor}.link-arrow[data-v-e52e8f6a]:after{border-bottom:.2px solid;border-radius:inherit;border-right:.2px solid;content:"";height:100%;left:20px;position:absolute;top:0;transform:skew(45deg);width:180px}.link-arrow__text[data-v-e52e8f6a]{border-radius:inherit;bottom:0;color:currentColor;left:16px;pointer-events:none;right:0;top:0}@media screen and (max-width:960px){.link-arrow[data-v-e52e8f6a]:hover{text-shadow:none}}</style>
<style>.footer[data-v-600ccfd8]{background:#1919ff;color:#fff}.footer__body[data-v-600ccfd8]{display:flex;flex-wrap:wrap;justify-content:space-between;margin:0 auto;max-width:100vw;padding:24px 8px;width:960px}.footer__logo[data-v-600ccfd8]{height:60px}.footer__nav[data-v-600ccfd8]{display:flex;flex-direction:column;margin-top:24px}.footer__copyright[data-v-600ccfd8]{font-size:12px;padding-bottom:24px;text-align:center}@media screen and (max-width:440px){.footer__body[data-v-600ccfd8]{align-items:center;flex-direction:column-reverse;padding-bottom:2px;padding-top:8px}.footer__logo[data-v-600ccfd8]{height:28px}.footer__nav[data-v-600ccfd8]{margin-bottom:20px;margin-top:16px}.footer__copyright[data-v-600ccfd8]{padding-bottom:8px}}</style>
<style>.layout-body[data-v-dff27a34]{display:flex;justify-content:center;margin:0 auto}</style>
<style>.layout-body[data-v-f255abbd]{display:flex;justify-content:center;margin:0 auto}</style>
<style>.page-title[data-v-0deae1e3]{align-items:center;border-bottom:1px solid #eaecef;display:flex;flex-wrap:wrap;font-size:1.5rem;justify-content:space-between;margin-bottom:8px;padding-bottom:.3em}.post-date[data-v-0deae1e3]{color:#b3b3b3;line-height:24px;text-align:right}.post-list__info-link[data-v-0deae1e3]{color:#858585;transition:color .2s}.post-list__info-link[data-v-0deae1e3]:hover{color:#1e90ff}.post-share[data-v-0deae1e3]{border-top:1px solid #eaecef;margin-top:20px;padding-top:20px;text-align:center}.post-share__buttons[data-v-0deae1e3]{display:flex;justify-content:center;margin:0 -.25em}.post-share__buttons .button-share[data-v-0deae1e3]{display:inline-block;margin:0 .25em}@media screen and (min-width:960px){.post-list[data-v-0deae1e3]{display:flex;justify-content:space-between}}</style>
<style>.button-share[data-v-b70d33d4]{align-items:center;display:inline-flex;height:32px;justify-content:center;width:32px}.button-share__icon[data-v-b70d33d4]{height:inherit;width:inherit}.button-share__img[data-v-b70d33d4]{background:#3c4e50;border-radius:6px;height:26px;padding:4px;pointer-events:none;width:26px}.button-share__icon[data-v-b70d33d4],.button-share__img[data-v-b70d33d4]{align-items:center;display:inline-block;justify-content:center}</style>
<link rel="stylesheet" href="/_nuxt/entry.RtkPHv5K.css" crossorigin>
<link rel="preload" as="fetch" crossorigin="anonymous" href="/posts/20201029/_payload.json?6eafbfbc-768c-4663-964b-d0e606d5c07f">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/lji2BBP2.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/AxOo6han.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/DhpalW6D.js">
<link rel="modulepreload" as="script" crossorigin href="/_nuxt/vl2EY3RU.js">
<meta property="twitter:site" content="@plus_one_masaki">
<meta property="fb:app_id" content="275537106407219">
<meta name="twitter:card" content="summary_large_image">
<meta name="description" content="Nuxtの自動テスト環境を構築しました(1) | Plus one">
<meta property="og:description" content="Nuxtの自動テスト環境を構築しました(1) | Plus one">
<meta property="og:title" content="Nuxtの自動テスト環境を構築しました(1) | Plus one">
<meta property="og:url" content="/posts/20201029">
<meta property="og:image" content="https://res.cloudinary.com/plus-one-tech/l_text:Sawarabi%20Gothic_36_bold:Nuxt%E3%81%AE%E8%87%AA%E5%8B%95%E3%83%86%E3%82%B9%E3%83%88%E7%92%B0%E5%A2%83%E3%82%92%E6%A7%8B%E7%AF%89%E3%81%97%E3%81%BE%E3%81%97%E3%81%9F(1),co_rgb:568,y_-24,w_512,c_fit/plusone_tech_ogp.png">
<meta property="og:type" content="article">
<script type="module" src="/_nuxt/lji2BBP2.js" crossorigin></script>
<script id="unhead:payload" type="application/json">{"title":"Plus one"}</script></head><body><div id="__nuxt"><div class="application" data-v-f255abbd><header class="header" data-v-f255abbd data-v-4b8e5aa3><div class="header__hero" data-v-4b8e5aa3><a href="/" class="header__logo" data-v-4b8e5aa3><img class="header__logo--img" src="/w_plusone.png" data-v-4b8e5aa3></a><img class="header__wave" src="/plusone_wave.svg" data-v-4b8e5aa3><img class="header__big-wave" src="/plusone_wave_big.svg" data-v-4b8e5aa3></div><div class="header__body" data-v-4b8e5aa3><img class="header__logo" src="/plusone.png" data-v-4b8e5aa3><p class="header__title" data-v-4b8e5aa3>~Webエンジニアブログ~</p></div><nav class="header__nav" data-v-4b8e5aa3><button class="button-icon header__menu-activator" data-v-4b8e5aa3 data-v-7df5d459><svg width="24" height="24" viewbox="0 0 24 24" style="--sx:1;--sy:1;--r:0deg;" class="button-icon__svg" data-v-7df5d459 data-v-e89afe9b><path d="M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z" data-v-e89afe9b></path></svg></button><ul class="header__menu" data-v-4b8e5aa3><li class="header__menu-item" data-v-4b8e5aa3><a href="/" class="header__menu-item--link" data-v-4b8e5aa3><span class="underline-slide-transition" data-v-4b8e5aa3>Home</span></a></li><li class="header__menu-item" data-v-4b8e5aa3><a href="/about" class="header__menu-item--link" data-v-4b8e5aa3><span class="underline-slide-transition" data-v-4b8e5aa3>About</span></a></li><li class="header__menu-item" data-v-4b8e5aa3><a href="/posts" class="header__menu-item--link" data-v-4b8e5aa3><span class="underline-slide-transition" data-v-4b8e5aa3>Blog</span></a></li><li class="header__menu-item" data-v-4b8e5aa3><a href="/products" class="header__menu-item--link" data-v-4b8e5aa3><span class="underline-slide-transition" data-v-4b8e5aa3>Products</span></a></li></ul><div class="header__menu--overlay" style="display:none;" data-v-4b8e5aa3></div></nav></header><div class="layout-body" data-v-f255abbd><main class="page" data-v-0deae1e3><section class="content" data-v-0deae1e3><ul class="post-list mt-5" data-v-0deae1e3><li class="post-list__info" data-v-0deae1e3><a href="/posts/20201229" data-v-0deae1e3>次の記事: Nuxtの自動テスト環境を構築しました(2)</a></li><li class="post-list__info" data-v-0deae1e3><a href="/posts/20201009" data-v-0deae1e3>前の記事: Vueのコンポーネント設計個人的ベストプラクティス</a></li></ul></section><section class="content" data-v-0deae1e3><!--[--><h1 class="page-title" data-v-0deae1e3>Nuxtの自動テスト環境を構築しました(1)<div class="flex-grow-1 text-right" data-v-0deae1e3><a href="/posts?category=w_h7n7usl5" class="common-chip" data-v-0deae1e3 data-v-178f56f4><span class="common-chip__overlay" data-v-178f56f4></span><span class="common-chip__underlay" style="background:#f70306;" data-v-178f56f4></span><span class="common-chip__content" data-v-178f56f4>プログラミング</span></a></div></h1><div class="markdown-content mb-6" data-v-0deae1e3><nav class="markdown-toc"><ul class="markdown-toc-list"><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E3%83%86%E3%82%B9%E3%83%88%E5%AF%BE%E8%B1%A1%E3%81%A8%E6%96%B9%E9%87%9D"> テスト対象と方針</a><ul class="markdown-toc-list"><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E2%96%A0-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E6%96%B9%E6%B3%95"> ■ テストの作成方法</a></li></ul></li><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%83%BB%E3%83%84%E3%83%BC%E3%83%AB"> テストに利用されるライブラリ・ツール</a><ul class="markdown-toc-list"><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E2%96%A0-%E3%83%86%E3%82%B9%E3%83%88%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC"> ■ テストランナー</a></li><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E2%96%A0-%E3%83%A2%E3%83%83%E3%82%AF"> ■ モック</a></li><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E2%96%A0-%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E8%87%AA%E5%8B%95%E5%8C%96%E3%83%84%E3%83%BC%E3%83%AB%E3%80%81%E4%BB%AE%E6%83%B3%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6"> ■ ブラウザ自動化ツール、仮想ブラウザ</a></li></ul></li><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A"> 技術選定</a><ul class="markdown-toc-list"><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E2%96%A0-%E3%83%A6%E3%83%8B%E3%83%83%E3%83%88%E3%83%86%E3%82%B9%E3%83%88"> ■ ユニットテスト</a></li><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E2%96%A0-%E6%A9%9F%E8%83%BD%E3%83%86%E3%82%B9%E3%83%88"> ■ 機能テスト</a></li></ul></li><li class="markdown-toc-item"><a class="markdown-toc-link" href="#%E3%81%BE%E3%81%A8%E3%82%81"> まとめ</a></li></ul></nav><p>今回、僕が関わっているNuxtのプロジェクトに後付けで自動テストを導入しました。</p>
<p>巷では自動テストは必須だの必要だのとよく言われる割に、
ベストプラクティスというのが欠けている感じがして環境の構築にかなり苦労しました。</p>
<p>今回、Nuxtのプロジェクトに広く使えそうな手法を見つけましたので、
同じように悩んでいるみなさんの助けになればと思います。</p>
<ul>
<li><a href="/posts/2020/10/29.html" target="_blank" rel="noopener noreferrer">Nuxtの自動テスト環境を構築しました(1)</a> &lt; 今回の記事</li>
<li><a href="/posts/2020/12/29.html" target="_blank" rel="noopener noreferrer">Nuxtの自動テスト環境を構築しました(2)</a></li>
</ul>
<div class="custom-block tip">
<p>記事作成にあたり、説明が長くなってしまったため記事を分けました。
今回はテストを作成する前段階の、方針決定から技術選定までのお話しです。</p>
</div>
<h2 id="%E3%83%86%E3%82%B9%E3%83%88%E5%AF%BE%E8%B1%A1%E3%81%A8%E6%96%B9%E9%87%9D" tabindex="-1"><a class="header-anchor" href="#%E3%83%86%E3%82%B9%E3%83%88%E5%AF%BE%E8%B1%A1%E3%81%A8%E6%96%B9%E9%87%9D">#</a> テスト対象と方針</h2>
<p>Nuxtでは、Vueコンポーネントを配置するディレクトリによって、 <code>ページ</code> と <code>コンポーネント</code> に分かれています。
それぞれ役割が明確に違うため、テスト対象は自ずと決まってきます。</p>
<ul>
<li>ページはいくつかのコンポーネントを組み合わせ、APIのコールや状態の管理など複合的に動作するため、 <code>機能テスト</code> で検証します。</li>
<li>コンポーネントは単体で動作するように作り、APIのコールなどは含みません。そのため <code>ユニットテスト</code> で検証が可能です。</li>
</ul>
<h3 id="%E2%96%A0-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E6%96%B9%E6%B3%95" tabindex="-1"><a class="header-anchor" href="#%E2%96%A0-%E3%83%86%E3%82%B9%E3%83%88%E3%81%AE%E4%BD%9C%E6%88%90%E6%96%B9%E6%B3%95">#</a> ■ テストの作成方法</h3>
<p>テストの作成方法ですが、 <code>シナリオ主導型</code> と <code>ファイル対応型</code> のパターンがあります。（どちらも僕が勝手に付けた造語です）</p>
<p><code>シナリオ主導型</code> は <strong>「トップページから入ってきたユーザーが、商品ページを開いて商品をカートに入れる」</strong>
といったユーザーの一連の行動をテストに書き起こしたもので、
ページやファイルと言ったプログラムの都合ではなく、ユーザー視点から見たテストが行えるのが特徴です。</p>
<p>これは主にV字開発モデルでいう <strong>受け入れテスト</strong> に相当します。</p>
<br>
<p><code>ファイル対応型</code> は1ファイル（コンポーネント）に対して1つのテストファイルを作成し、メソッドや機能を網羅するようにテストを作成していきます。
条件を網羅して確認をおこなうため、単純な計算ミスや文言の間違いといった見落としがちな部分を重点的に確認するのに向いています。</p>
<p>これは <strong>単体（ユニット）テスト</strong> や <strong>結合（機能）テスト</strong> に当たるものです。</p>
<br>
<p>今回のテスト作成にあたり、僕が重点的に確認したかったのは <strong>「外部から入場してきたユーザーが無事に商品購入まで辿り着くこと」</strong> ではなく、
「機能追加によって昨日まで動いていたコードが動かなくなっていないか」といった、 <strong>今回の変更でのデグレが起きていないこと</strong> でした。</p>
<p>これは <code>シナリオ主導型</code> のテストではチェックの漏れが起きやすく、条件を網羅しようとすればメンテナンスの工数が膨大になってしまいます。</p>
<p>また今まで見てきた <code>シナリオ主導型</code> のテストは <strong>「このシナリオ、どのテストファイルに記述すればいいんだっけ？」</strong> とか、
<strong>「よく見たらテスト重複してるじゃーん」</strong> のように、ファイルの置き場所に起因する混乱が生じやすいと感じました。</p>
<br>
<p>そのため、今回はシナリオ主導型のテストコードは採用せず、 <code>ファイル対応型</code> のユニットテスト、機能テストを採用することにしました。</p>
<p>デグレを防ぐ目的のテストであれば、通常はこの方針を選択しておけば間違いないと思います。</p>
<div class="custom-block tip">
<p>ブラウザを利用してテストを行う <code>E2Eテスト</code> は、 <code>シナリオ主導型</code> で記述するのが一般的なようです。
ですが <strong>一般に倣って本当に実現したいことがブレてしまう</strong> のは本末転倒。</p>
<p>「そのプロジェクトにおいて何をテストしたいのか」を常に念頭に置いてテスト設計を行うことを推奨します。</p>
</div>
<p><ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9835503912749997"
     data-ad-slot="5019903878"></ins></p>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2 id="%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%83%BB%E3%83%84%E3%83%BC%E3%83%AB" tabindex="-1"><a class="header-anchor" href="#%E3%83%86%E3%82%B9%E3%83%88%E3%81%AB%E5%88%A9%E7%94%A8%E3%81%95%E3%82%8C%E3%82%8B%E3%83%A9%E3%82%A4%E3%83%96%E3%83%A9%E3%83%AA%E3%83%BB%E3%83%84%E3%83%BC%E3%83%AB">#</a> テストに利用されるライブラリ・ツール</h2>
<p>さて、方針が定まったところで技術選定です。</p>
<p>ですがその前に、テスト用のツールの中にはいくつか専門的な用語が出てきますのでご紹介しておきたいと思います。</p>
<h3 id="%E2%96%A0-%E3%83%86%E3%82%B9%E3%83%88%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC" tabindex="-1"><a class="header-anchor" href="#%E2%96%A0-%E3%83%86%E3%82%B9%E3%83%88%E3%83%A9%E3%83%B3%E3%83%8A%E3%83%BC">#</a> ■ テストランナー</h3>
<p>テストを実行する際の本体となるライブラリです。</p>
<ul>
<li>テストコードを実行する</li>
<li>テストをファイル・ページ・検証内容といった単位で分割し、実行順序をコントロールする</li>
<li>アサーション（検証）を実施する</li>
<li>検証結果を集計し、カバレッジを表示する</li>
</ul>
<p>これらテストの基本となる機能を揃えたツールが <code>テストランナー</code> で、
多機能なものからシンプルなものまで様々な種類のライブラリが存在し、 <strong>技術選定で最も頭を悩ませる部分</strong> でもあります。</p>
<p>代表的なライブラリに <code>jest</code> <code>mocha</code> <code>jasmine</code> <code>ava</code> などがありますが、
選択肢が多すぎて選べない人のためにあえて断定するなら、 <strong>多機能なjest</strong> か <strong>単機能なava</strong> のどちらかを選んでおけば間違いないと思います。</p>
<h3 id="%E2%96%A0-%E3%83%A2%E3%83%83%E3%82%AF" tabindex="-1"><a class="header-anchor" href="#%E2%96%A0-%E3%83%A2%E3%83%83%E3%82%AF">#</a> ■ モック</h3>
<p>例えばコンポーネントのテストをする際、
<strong>Vuexなど外部への依存があるためにコンポーネント単体でテストが実施できない</strong>
などの課題が出てくる場合もあるかと思います。</p>
<p>そんな時に活躍するのが <code>モック</code> です。</p>
<p>コンポーネント、メソッド、APIの戻り値のような、テストしたい対象が依存している存在のダミーを作成してくれるツールです。
単体で完結するコンポーネントのユニットテストなどでは不要です。</p>
<p>モックはライブラリごとにできること・できないことが明確に分かれているので、目的に応じて選択する必要があります。</p>
<p>代表的なライブラリとしては <code>sinon</code> があります。
その他にも、 <code>jest</code> にも強力なモック機能が備わっていたり、<code>swagger-node</code> ではAPIサーバのモックを建てることもできます。</p>
<h3 id="%E2%96%A0-%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E8%87%AA%E5%8B%95%E5%8C%96%E3%83%84%E3%83%BC%E3%83%AB%E3%80%81%E4%BB%AE%E6%83%B3%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6" tabindex="-1"><a class="header-anchor" href="#%E2%96%A0-%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6%E8%87%AA%E5%8B%95%E5%8C%96%E3%83%84%E3%83%BC%E3%83%AB%E3%80%81%E4%BB%AE%E6%83%B3%E3%83%96%E3%83%A9%E3%82%A6%E3%82%B6">#</a> ■ ブラウザ自動化ツール、仮想ブラウザ</h3>
<p>Webにおけるフロントエンドとは、ブラウザで表示できるものを指します。</p>
<p>ブラウザ自動化ツールを使用することで、ブラウザの起動やページアクセスと言ったブラウザ操作をプログラミングで制御することができるようになります。</p>
<p><code>仮想ブラウザ</code> は実際の描画は行わずに出力されるHTMLやCSSを解析して検証を行うツールです。
CSSセレクタを利用してDOM要素を抽出したり、フォーム入力やボタンクリックなどの動作を検証することも可能ですが、
あくまで <strong>ブラウザを模したツール</strong> でしかないため、特に仮想DOMで描画を行うVueやReactでは、実際の動きとは異なる場合が出てきます。</p>
<p><code>仮想ブラウザ</code> では <code>jsdom</code> というライブラリが有名ですね。</p>
<p><code>仮想ブラウザ</code> に対して <code>ブラウザ自動化ツール</code> は、実際のブラウザを起動して描画を行う点で本物の動作を再現することができます。
また仮想ブラウザ同様に、CSSセレクタを使ったDOM要素の抽出、フォーム入力などももちろん行えます。</p>
<p>ただし、実際のブラウザを起動するために起動に非常に時間がかかるのがデメリットで、起動だけで数十秒〜1分以上かかる場合もあります。
（仮想ブラウザは数秒以内に起動します）</p>
<p><code>ブラウザ自動化ツール</code> で有名なライブラリは <code>Selenium</code> <code>Puppeteer</code> <code>Nighmare</code> <code>Cypress</code> などがあります。</p>
<h2 id="%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A" tabindex="-1"><a class="header-anchor" href="#%E6%8A%80%E8%A1%93%E9%81%B8%E5%AE%9A">#</a> 技術選定</h2>
<p>それでは目的に合わせて使用するツールを選定していきます。</p>
<h3 id="%E2%96%A0-%E3%83%A6%E3%83%8B%E3%83%83%E3%83%88%E3%83%86%E3%82%B9%E3%83%88" tabindex="-1"><a class="header-anchor" href="#%E2%96%A0-%E3%83%A6%E3%83%8B%E3%83%83%E3%83%88%E3%83%86%E3%82%B9%E3%83%88">#</a> ■ ユニットテスト</h3>
<p>まず <code>ユニットテスト</code> ですが、ユニットテストではコンポーネントを単体で立ち上げて動作検証を行いますので、
基本的に <code>テストランナー</code> だけで事足りると思います。</p>
<p>機能的にもシンプルなテストランナーで十分だったため <code>ava</code> をおすすめしたいところなんですが、
後述の <code>機能テスト</code> を構築する際に <code>jest</code> の方がやりやすかったので、共通のライブラリで通せるよう <code>jest</code> を採用しました。</p>
<p>その他にテスト用で使用しているライブラリは <code>vue-test-utils</code> です。
これはVueのコンポーネントをテストするためのツールで、Vueをテストするにはほぼ必須です。</p>
<div class="custom-block success">
<p class="custom-block-title">ユニットテストで使用するライブラリ</p>
<ul>
<li><a href="https://jestjs.io/ja/" target="_blank" rel="noopener noreferrer">jest</a></li>
<li><a href="https://vue-test-utils.vuejs.org/ja/" target="_blank" rel="noopener noreferrer">vue-test-utils</a></li>
</ul>
</div>
<h3 id="%E2%96%A0-%E6%A9%9F%E8%83%BD%E3%83%86%E3%82%B9%E3%83%88" tabindex="-1"><a class="header-anchor" href="#%E2%96%A0-%E6%A9%9F%E8%83%BD%E3%83%86%E3%82%B9%E3%83%88">#</a> ■ 機能テスト</h3>
<p>次に <code>機能テスト</code> では、複数のコンポーネントを組み合わせた <code>Webページ</code> そのものをテストしたいため、ブラウザを導入する必要がありました。</p>
<p>仮想ブラウザは軽量ではありますが、jsdomではNuxtやVueRouterのライフサイクルフック（fetchやbeforeEnterなど）をエミュレートしてくれず断念。</p>
<p>Nightmareはメソッドチェーンで操作を記述する形式ですが、「複数の操作をメソッドチェーンでまとめて実行する」というこの記法はどちらかというと <code>シナリオ駆動型</code> のテスト向きで、
パラメータを変えながら一つ一つの表示を確認するような動作にはあまり適していないと判断しました。</p>
<p>このようにいくつかのライブラリで試行錯誤をした結果、最終的にGoogleが開発している <code>puppeteer</code> を採用することにしました。</p>
<p>さらに、 <code>puppeteer</code> と <code>jest</code> を連携するための <code>jest-puppeteer</code> というライブラリがあったのでそちらを使います。
ただの設定ファイル群ではありますが、環境構築の大変さを少しでも楽にしてくれるのはありがたい。</p>
<br>
<p>また、APIサーバからの戻り値によって変化する画面の検証を行うにあたり、 <strong>APIのモックサーバ</strong> を用意する必要がありました。</p>
<p>モックサーバに求められる要件は下記の通り。</p>
<ol>
<li>フロントのソースコードに手を加えずにモックへの差し替えができること</li>
<li>テスト中に戻り値を書き換えられること（パラメータを変えながら検証をするため）</li>
</ol>
<p>ここで試したのが <code>jest</code> のモック機能。</p>
<p>jestはソースコード内の <code>import</code> で読み込んでいるモジュールをファイルごと差し替える機能を持っており、
<strong>フロントのソースコードに手を加えずに差し替え</strong> ができます。</p>
<p>ですが、E2Eテストを行うにあたり、Nuxtのプロジェクトをビルド＆サーバ起動する必要が出ました。</p>
<p><code>jest</code> のモック機能では、ビルド済みのソースコードを差し替える機能は持っておらず、
またモックとして用意したモジュールはビルド後には外部から更新がかけられなかったりしたため、
<strong>テスト中に戻り値を書き換えられること</strong> の要件が満たせず利用を諦めました。</p>
<p><code>sinon</code> も同様の理由から断念。</p>
<br>
<p>最終的にAPI仕様の定義に使われ、開発用APIモックサーバとしても有名な <code>Swagger</code> を導入することになりました。</p>
<p>これは設計フェーズ〜フロントエンド開発の際によく使われるツールなのですが、
API仕様を厳密に定義しつつモックサーバとしても機能する点から、ドキュメントとしても活躍が見込めるために採用しました。</p>
<p>こちらはモックと言えど本物のサーバを起動するため、ビルド済みNuxtとは完全に切り離してコントロールできるため、
APIの向き先を変えるだけで <code>1,2</code> どちらの要件もクリアすることができました。<small>（APIの向き先は .env に記載しているので、ソースコードは修正不要）</small></p>
<p>欠点としては、単にJSONを返すだけのモックを作成するのに、yaml でAPIの仕様を定義し、
expressサーバのコントローラを記述するという作成コストの重さ。</p>
<p>これは正直ちょっと面倒ではあるので、他に便利なものを知っている方がいたら教えて下さい。</p>
<div class="custom-block success">
<p class="custom-block-title">機能テストで使用するライブラリ</p>
<ul>
<li><a href="https://jestjs.io/ja/" target="_blank" rel="noopener noreferrer">jest</a></li>
<li><a href="https://pptr.dev/" target="_blank" rel="noopener noreferrer">puppeteer</a></li>
<li><a href="https://github.com/smooth-code/jest-puppeteer" target="_blank" rel="noopener noreferrer">jest-puppeteer</a></li>
<li><a href="https://vue-test-utils.vuejs.org/ja/" target="_blank" rel="noopener noreferrer">vue-test-utils</a></li>
<li><a href="https://github.com/swagger-api/swagger-node" target="_blank" rel="noopener noreferrer">swagger-node</a></li>
</ul>
</div>
<p><ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-9835503912749997"
     data-ad-slot="3132107137"></ins></p>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<h2 id="%E3%81%BE%E3%81%A8%E3%82%81" tabindex="-1"><a class="header-anchor" href="#%E3%81%BE%E3%81%A8%E3%82%81">#</a> まとめ</h2>
<p>今回はテスト作成の方針と技術選定についてご紹介しました。</p>
<p><span class="large blue">「テストがないコードはレガシーコード」</span>とは有名な言葉ですが、
レガシーではないコードにするための準備もなかなかのハードルの高さがありました。</p>
<p>次回はいよいよ環境を構築していきたいと思います。お楽しみに！</p>
</div><div class="post-date" data-v-0deae1e3><div class="post-date__label" data-v-0deae1e3>公開日: 2020-10-29</div><div class="post-date__label" data-v-0deae1e3>更新日: 2024-10-14</div></div><div class="post-share" data-v-0deae1e3><p class="post-share__title" data-v-0deae1e3>この記事をシェア</p><div class="post-share__buttons mt-2" data-v-0deae1e3><!--[--><span data-v-0deae1e3 data-v-b70d33d4></span><span data-v-0deae1e3 data-v-b70d33d4></span><span data-v-0deae1e3 data-v-b70d33d4></span><!--]--></div></div><!--]--></section><section class="content" data-v-0deae1e3><ul class="post-list mt-5" data-v-0deae1e3><li class="post-list__info" data-v-0deae1e3><a href="/posts/20201229" data-v-0deae1e3>次の記事: Nuxtの自動テスト環境を構築しました(2)</a></li><li class="post-list__info" data-v-0deae1e3><a href="/posts/20201009" data-v-0deae1e3>前の記事: Vueのコンポーネント設計個人的ベストプラクティス</a></li></ul></section></main><aside class="sidebar" data-v-f255abbd data-v-0ae83570><div class="card card-profile mb-4" data-v-0ae83570 data-v-73751275><div class="card-profile__header" data-v-73751275><img class="card-profile__img" src="/masaki_default.png" data-v-73751275><div data-v-73751275><h3 data-v-73751275>Masaki</h3><!----><div class="card-profile__personal-data" data-v-73751275><svg width="24" height="24" viewbox="0 0 24 24" style="--sx:1;--sy:1;--r:0deg;" class="pr-1" data-v-73751275 data-v-e89afe9b><path d="M12,19.2C9.5,19.2 7.29,17.92 6,16C6.03,14 10,12.9 12,12.9C14,12.9 17.97,14 18,16C16.71,17.92 14.5,19.2 12,19.2M12,5A3,3 0 0,1 15,8A3,3 0 0,1 12,11A3,3 0 0,1 9,8A3,3 0 0,1 12,5M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12C22,6.47 17.5,2 12,2Z" data-v-e89afe9b></path></svg><span data-v-73751275>Webエンジニア</span></div><div class="card-profile__personal-data" data-v-73751275><svg width="24" height="24" viewbox="0 0 24 24" style="--sx:1;--sy:1;--r:0deg;" class="pr-1" data-v-73751275 data-v-e89afe9b><path d="M21,21V17C21,15.89 20.1,15 19,15H18V12C18,10.89 17.1,10 16,10H13V8H11V10H8C6.89,10 6,10.89 6,12V15H5C3.89,15 3,15.89 3,17V21H1V23H23V21M12,7A2,2 0 0,0 14,5C14,4.62 13.9,4.27 13.71,3.97L12,1L10.28,3.97C10.1,4.27 10,4.62 10,5A2,2 0 0,0 12,7Z" data-v-e89afe9b></path></svg><span data-v-73751275>37歳</span></div></div></div><div class="card-profile__body" data-v-73751275><p data-v-73751275>フリーランスWebエンジニア。PHPとVue.jsに関する技術や、フリーランスについての情報を書いていきます。</p></div><div class="card-profile__footer" data-v-73751275><hr class="common-divider mb-4" data-v-73751275 data-v-47686652><div class="card-profile__sns-links" data-v-73751275><a class="card-profile__sns-link" href="https://github.com/plusone-masaki" target="_blank" data-v-73751275><svg width="24" height="24" viewbox="0 0 24 24" style="--sx:1;--sy:1;--r:0deg;" class="card-profile__sns-link--icon" data-v-73751275 data-v-e89afe9b><path d="M12,2A10,10 0 0,0 2,12C2,16.42 4.87,20.17 8.84,21.5C9.34,21.58 9.5,21.27 9.5,21C9.5,20.77 9.5,20.14 9.5,19.31C6.73,19.91 6.14,17.97 6.14,17.97C5.68,16.81 5.03,16.5 5.03,16.5C4.12,15.88 5.1,15.9 5.1,15.9C6.1,15.97 6.63,16.93 6.63,16.93C7.5,18.45 8.97,18 9.54,17.76C9.63,17.11 9.89,16.67 10.17,16.42C7.95,16.17 5.62,15.31 5.62,11.5C5.62,10.39 6,9.5 6.65,8.79C6.55,8.54 6.2,7.5 6.75,6.15C6.75,6.15 7.59,5.88 9.5,7.17C10.29,6.95 11.15,6.84 12,6.84C12.85,6.84 13.71,6.95 14.5,7.17C16.41,5.88 17.25,6.15 17.25,6.15C17.8,7.5 17.45,8.54 17.35,8.79C18,9.5 18.38,10.39 18.38,11.5C18.38,15.32 16.04,16.16 13.81,16.41C14.17,16.72 14.5,17.33 14.5,18.26C14.5,19.6 14.5,20.68 14.5,21C14.5,21.27 14.66,21.59 15.17,21.5C19.14,20.16 22,16.42 22,12A10,10 0 0,0 12,2Z" data-v-e89afe9b></path></svg></a><a class="card-profile__sns-link" href="https://www.facebook.com/PlusoneMasaki" target="_blank" data-v-73751275><svg width="24" height="24" viewbox="0 0 24 24" style="--sx:1;--sy:1;--r:0deg;" class="card-profile__sns-link--icon" data-v-73751275 data-v-e89afe9b><path d="M12 2.04C6.5 2.04 2 6.53 2 12.06C2 17.06 5.66 21.21 10.44 21.96V14.96H7.9V12.06H10.44V9.85C10.44 7.34 11.93 5.96 14.22 5.96C15.31 5.96 16.45 6.15 16.45 6.15V8.62H15.19C13.95 8.62 13.56 9.39 13.56 10.18V12.06H16.34L15.89 14.96H13.56V21.96A10 10 0 0 0 22 12.06C22 6.53 17.5 2.04 12 2.04Z" data-v-e89afe9b></path></svg></a><a class="card-profile__sns-link" href="https://x.com/plus_one_masaki" target="_blank" data-v-73751275><object class="card-profile__sns-link--img" type="image/svg+xml" data="/logo_x.svg" data-v-73751275></object></a></div></div></div><div class="card mb-4" data-v-0ae83570><h3 class="mb-3" data-v-0ae83570>カテゴリー</h3><div class="list-category" data-v-0ae83570 data-v-04f07d8a><span data-v-04f07d8a></span></div></div><div class="card mb-4" data-v-0ae83570><h3 class="mb-3" data-v-0ae83570>新着記事</h3><div class="list-posts compact" data-v-0ae83570 data-v-905d43d0><span data-v-905d43d0></span></div></div><span data-v-0ae83570></span></aside></div><footer class="footer" data-v-f255abbd data-v-600ccfd8><div class="footer__body" data-v-600ccfd8><img class="footer__logo" src="/plusone.png" data-v-600ccfd8><div class="footer__nav" data-v-600ccfd8><a href="/" class="link-arrow mb-4" data-v-600ccfd8 data-v-e52e8f6a><span class="link-arrow__text" data-v-e52e8f6a>HOME</span></a><a href="/about" class="link-arrow mb-4" data-v-600ccfd8 data-v-e52e8f6a><span class="link-arrow__text" data-v-e52e8f6a>ABOUT</span></a><a href="/posts" class="link-arrow mb-4" data-v-600ccfd8 data-v-e52e8f6a><span class="link-arrow__text" data-v-e52e8f6a>BLOG</span></a><a href="/products" class="link-arrow mb-4" data-v-600ccfd8 data-v-e52e8f6a><span class="link-arrow__text" data-v-e52e8f6a>PRODUCTS</span></a></div></div><p class="footer__copyright" data-v-600ccfd8>Copyright 2018 - plus-one</p></footer></div></div><div id="teleports"></div><script type="application/json" data-nuxt-data="nuxt-app" data-ssr="true" id="__NUXT_DATA__" data-src="/posts/20201029/_payload.json?6eafbfbc-768c-4663-964b-d0e606d5c07f">[{"state":1,"once":136,"_errors":137,"serverRendered":17,"path":139,"prerenderedAt":140},["Reactive",2],{"$sposts":3,"$scategories":124},[4,19,33,48,62,71,85,95,104,114],{"id":5,"createdAt":6,"updatedAt":7,"publishedAt":7,"revisedAt":7,"title":8,"type":9,"content":11,"category":12},"4b3h56-2jwao","2025-01-08T12:51:20.432Z","2025-01-10T12:26:31.183Z","Webサイトをリニューアル(v4)しました！",[10],"blog","# 新年あけましておめでとうございます！Masakiです 🎍🐯\n\nこの度、ついにWebサイトをリニューアルしました！以前は [Vuepress](https://vuepress.vuejs.org/) というJAMStackなCMSを使用していたのですが、いくつかの致命的な問題に直面したため、全面的に作り変えることにしました。\n\nデザイン面ではあまり変化がないように見えるかもしれませんが、一体なぜリニューアルを行ったのか、解説していきたいと思います。\n\n## JAMStackは記事更新がしづらい\n\nまず一つ目の理由ですが、JAMStackはDBを使わず、ローカルのファイルをアップロードする方式、つまり昔ながらのHPと似た仕組みをとっています。\nローカルで記事ファイルを作成し、それをGitにアップロードしてCIでビルドを行い、サイトにデプロイする...。これが意外と手間がかかっていました。\n\n## ビルドに失敗した\n\nこれが一番の問題です。Node.jsのバージョンが古くなると、CIが対応しなくなってしまう。\n古いバージョンでも動いてくれるPHPのようにはいかず、古いNode.jsに対応しなくなるとCIが通らなくなります。\nそのため、ビルドができず記事のアップができない状況になってしまいました。\n\n## Nuxt3 + microCMS でリプレース\n\nビルドができないとサイトの更新ができません。\n古いシステムを直すにもソースコードの状態もあまりよくないので、思い切ってリプレースすることにしました。\n\n\n### 技術選定について\n\nWordPressはGitHub Pagesで公開できないため却下。そして、Vuepressなどのローカルで記事を作成するJAMStackも上述した理由から却下。\n静的サイト + APIの形にするならヘッドレスCMSを使うのがベストだと考え、無料枠もあって導入も簡単な [microCMS](https://microcms.io/) を採用しました。\n\nフロントエンドには [Nuxt3](https://nuxt.com/) を採用。Nuxt3の静的出力+APIの組み合わせは、仕事でもよく使っている技術なので開発の流れが分かっていました。\n\n\n## 今回のテーマ\n\n今回のテーマを紹介しておきます。今回で自分のHP作成は4回目になりますが、毎回新しい技術に挑戦するテーマを設定しています。\n\n|バージョン|技術テーマ|デザインテーマ|\n|:---:|---|---|\n|1|HTML+CSSのみを使用し、デザインの基礎を習得|デザイン本を丸パクリ（敢えてアレンジをしない）|\n|2|WebAPIをはさんだフロントエンド + バックエンドの構成|Vueを使用したちょっと動くサイト\u003Cbr>当時苦手だった明るい配色 + 丸みあるデザイン|\n|3|Vuepressを使用して爆速開発＆リリース\u003Cbr>ブログ形式にすることで情報発信を可能にする|キープコンセプト + スタンダードなブログデザイン|\n\nそして第4作目となる今回は...\n\n**技術テーマ：「自分が設計して人に開発してもらう」**\n\n**デザインテーマ：「基本デザインはそのままに、よりビビッドな配色とわずかにシャープさをプラス」**\n\nというテーマで挑戦しました。Nuxt + APIの構成は自分の中でベストプラクティスが固まっており、デザインも前バージョンの形から大きく変更せず、設計とマネジメントの練習に重きを置きました。\n\n結果として、自分のスキルの至らなさによる課題も発見でき、とてもいい経験となりました。開発の流れや課題については、また別の記事でご紹介したいと思います。楽しみにしていてくださいね！\n\nこれからも頑張ってブログ記事を更新していくので、是非チェックしてください！\n",{"id":13,"createdAt":14,"updatedAt":15,"publishedAt":14,"revisedAt":15,"name":16,"visible":17,"color":18},"kciwewd_1xx7","2024-07-20T03:51:24.014Z","2024-10-18T00:25:46.254Z","Web制作",true,"#4C9AFF",{"id":20,"createdAt":21,"updatedAt":22,"publishedAt":23,"revisedAt":22,"title":24,"type":25,"content":26,"category":27},"xuyrjdiymeao","2024-08-11T07:40:34.716Z","2024-09-26T06:23:19.277Z","2024-07-18T12:55:00.000Z","「コミュ力」って言葉はいったん忘れよう",[10],"# 「コミュ力」って言葉はいったん忘れよう\n\nエンジニアを目指すみなさんなら一度は聞いたことがあるであろう「エンジニアにはコミュ力が重要」というお話。\nリアルでもネット上でもよく聞く言葉ですが、これが特にエンジニア未経験の人たちにとっては非常に罠のような言葉でして、\n今回はこの「コミュ力」という言葉は一度忘れましょうってことで、その理由を説明したいと思います。\n\n\n## エンジニアにはコミュ障が多い\n\nまず、IT業界でなぜことさらにコミュ力なるものが重要視されるようになったかというと、\nそもそもエンジニアって古くは **オタクの巣窟でコミュ障が多い** というのが要因。\n\nつまり目を見て話せなかったり、思い込みやこだわりが強すぎて人の指示を素直に聞けなかったりしたために、\n\u003Cspan class=\"x-large blue\">「まともにコミュニケーション取れるやつはいねえのか！！」\u003C/span>\nってことでコミュニケーションが取れる人材が求められるようになったという経緯（だと思ってますが違ったら指摘してください）。\n\nなので、まずこの業界でいう「コミュ力のある人」というのは「コミュニケーション能力に長けている人」ではなく、\n**「普通にコミュニケーションが取れる人」** を指します。ここ大事です。\n\nつまり、数値で例えるならエンジニアはコミュ力 -100 な人が多いから、 +1 以上の人を選びたい。 もちろん +100 でも構わない。\nって話です。\n\nコミュニケーションを取るうえで障害となりうるような、例えば耳の聞こえない方であっても、指示された業務をきちんとこなせれば問題がないわけです。\n僕はこの「コミュ力 +1」を「コミュ力がある」と言っていいのか疑問ですし、実際コミュ力がマイナスな人であってもエンジニアやってたりするわけで、\nコミュ力（会話上手なスキル）が必須か否かで言えば否だと思ってます。\n\n\u003Cbr />\n\nでは、エンジニアにはコミュ力が全く不要かというとそうではないです。\n\n前述した通り、「指示に従えない」「話を聞かない」「我が強くて手に負えない」だとそもそも組織で働くことは不可能です。\n\n\n## エンジニアに必要なコミュニケーションをするには技術の習得が必要\n\nまた、会社組織で働く以上はどんなに小さな組織であっても上司がいて、取引先があります。\n営業や広報といった他の部署から改修の要望も上がってくるかもしれません。\n\n人との情報のやりとりをするからにはやはり「コミュニケーション」は必要になってきます。\n\nでは、エンジニアに求められる「コミュニケーション能力」とは何なのか。\n\n\u003Cbr />\n\nそれは僕の主観ですが下記の3つだと思っています。（もっとあるだろうけど）\n\n- 報連相ができる\n- 課題や目標に対して技術的見地から解決方法を提案する\n- 顧客や非技術者にわかりやすく説明する\n\n\u003Cbr />\n\n1つめの報連相についてはよく聞くと思います。\n\n- プロジェクトを進める上でトラブルやイレギュラーはつきものですが、それらが発生したときに決済者に素早く伝えるのが **「報告」**\n- リリース作業やメンテナンスなど、これから実施する作業や仕様変更などの決定事項を共有するのが **「連絡」**\n- 手が空いた時や開発に行き詰まった時など、この後どうしたら良いか識者に指示を求めるのが **「相談」**\n\nこれは他の多くの業界でも重要視されるスキルですが、この報連相を最初から適切に行える人なんてそうそういないと思います。\nもちろん社会人をやっていく上で必須のスキルなので、社会人経験を積んでいく中で最優先で習得して欲しいものではありますが、\n変な上司に報連相すると相談してるのに「そういうのは先に相談してよ～」とか、すぐに報告してるのに「まずは自分で考えろ！」とか言われて適切な報連相の仕方がわからない人も多々いると思います。\n\n今のIT業界、特にWeb系のところは報連相で怒られるようなことはあんまりないと思いますので業界に入ってから習得したら良いんじゃないでしょうか。\n\n\u003Cbr />\n\n2つ目の解決方法の提案ですが、これをやるにはまず技術の習得が必須になってきます。\n懸念点の洗い出しが甘いまま \u003Cspan class=\"large blue\">「DB使えば同一の住所かどうかなんてすぐ分かりますよ！」\u003C/span>\nなんて言おうもんなら上司から大目玉を食らいますｗ\n\n逆にできるかどうか、いつまでにできるか不安すぎて「技術的には可能です」みたいな曖昧な言い方をしても非技術者には全く伝わりません。\n\n技術を磨き、IT経験を積んでいくと、自然と「これはやったことあるから3日でできるな」とかロジックや工数が頭に浮かぶようになってきます。\nなので **「エンジニアがコミュ力を高めたいならまず技術力を高めろ」** というのが持論です。\u003Cs>僕はリモートワーク歴が長くなってきてコミュ力が爆下がり中です。\u003C/s>\n\n\u003Cbr />\n\nそして3つ目、顧客や非技術者への説明なんですが\n若手であれば客前に出る機会も多くないと思うんですけど、これも当然技術のことがわかってないと説明なんかできるわけないので、\n**「エンジニアがコミュ力を高めたいならまず技術力を高めろ」** でしかないですね。\n\n\u003Cbr />\n\nちなみにオタク特有の早口で技術のことをベラベラ喋ってしまうのはまだまだ技術力不足な証拠だと思ってます。\n\nそれって **「特定の技術に傾倒しすぎてプロジェクト全体を見渡せていないから、その技術についてのめり込むように話してしまっている」** という状況ではありませんか？\n\n「この技術が最も活かせる場面はどこか」「要望に対してこの技術はオーバーテクノロジーだから簡単なものにしよう」「ユーザーの要望に沿うためにはこの方法が良いんじゃないか？」\nといった様々な観点から技術選定ができるようになってこその技術力だと思っています。\n\n\u003Cbr />\n\n相手と目線を合わせて説明するには高度なコミュニケーション能力が問われると思いますが、その能力を下支えするのはやはり **プロフェッショナルとしての高度な技術力** なのだと僕は考えています。\n\n\n## まずは技術を学ぶところから\n\n**「エンジニアにコミュ力は不要」** とまで言ってしまうとさすがに極論だとは思いますが、\n「コミュ障なエンジニアは多い」というのは事実ですし、そんなコミュ障でも働けるのがエンジニアという職種の魅力の一つでもあります。\n\nそんなコミュ障であっても、報連相ができ、課題を解決し、自分の担当領域についてきちんと説明できる **「コミュ力の高いコミュ障」** を目指すことはできると思いますし、\nコミュ力を高めるためにはまず担当領域についてよく学び経験を積むことこそが重要だと僕は考えています。\n\nそれとは別に、一般的に想像しうる「人と仲良くなれるスキル」の意味のコミュ力ですが、これはもちろんあれば人間関係が円滑になりますが、\nよほど人とのコミュニケーションを拒絶するようなタイプでもない限りは無くてもなんとかなります。\n\nというわけで、「コミュ力」と一言で言っても色々あるし、特に業界未経験の人にとっては一般的に言われている「コミュ力」とは別物で、\n混同してしまうと混乱の元なので「コミュ力」という言葉はいっそ忘れてしまった方が良いと思います。\n\nエンジニアに必要なのはまずは **「業務を遂行するための技術」** だと覚えておきましょう。\n",{"id":28,"createdAt":29,"updatedAt":30,"publishedAt":29,"revisedAt":31,"name":32,"visible":17},"jru4k0q9t","2024-07-20T05:03:54.491Z","2024-07-20T05:13:33.093Z","2024-07-20T05:11:41.391Z","その他",{"id":34,"createdAt":35,"updatedAt":36,"publishedAt":37,"revisedAt":38,"title":39,"type":40,"content":41,"category":42},"20220309","2024-08-11T07:40:05.392Z","2024-10-14T07:02:52.817Z","2022-03-09T13:57:00.000Z","2024-10-14T07:02:46.546Z","ドキュメント作成の有用性",[10],"なんと今年に入って初の投稿となってしまいました。\n仕事もプライベートも忙しかったとはいえなかなかの体たらく。反省しなければ。\n\nさて、最近のMasakiは何をしてるかといいますと、もっぱらドキュメント作りに勤しんでいます。\n\n\n今までも Markdown を使ったドキュメント作成は力を入れていたんですが、\n絵や図を駆使したプレゼン資料みたいなのはあんまりやったことがなかったんですよね。\n\nで、やったことがないことはいつまで経ってもうまくならないってことで、\n案件の資料として渡されるパワポとかを参考に見よう見まねで作ってみたりするんですけど、\nなんとも \u003Cspan class=\"x-large\">ダサい。\u003C/span>\n\nツールの使い方くらいは調べればわかるけど、それをどう活用するのかがイマイチわからんって状態でした。\n\n\n## 画面設計を頼まれたので\n\n最近は設計段階からお仕事を任される機会も増えてきてたんですけど、\nちょうどよく画面設計の依頼が来たのを機にFigmaを覚えてみました。\n\n画面設計はフロントエンドエンジニアだけあって案件でも見る機会が多く、\n完成形が頭でイメージしやすかったので意外とすんなり覚えられました。\nあと追加でいくつか画面作ったらおおよそ実務で困らない程度には習得できそうな感じ。\n\n画面設計書って、例えばSIerとかだとExcelやパワポを使ってるところも多いと思いますが、\nFigma を使ってみた感想としては、Officeツールよりもずっとパワフルで簡単に画面イメージが作れるし、\n状態遷移や画面遷移なども設定できるので実装の認識合わせもしやすいと思うのでデザインツールを使うのはおすすめです。\n\n逆にWeb系だとこの手のタスクはデザイナーさんがやってるところもあると思います。\nですが世の中にはまだまだデザイナー不在の案件も多いですし、\nエンジニアが雰囲気だけでもデザインできるようになることで、\n単なる実装者から一つ上の段階を任せてもらえるようになるので収入UPの足がかりにも繋がる実感があります。\n\n\n## お仕事をそろそろ人に渡したいので\n\n今までもなるべくドキュメントは残すようにしてきたんですが、\nそれなりに歴史を積んできたシステムの保守とかやってるとだんだんドキュメントも古くなってくる。\n\nちょっと前の自分が書いたドキュメントも、改めて見返すと情報が全然足りてないし無駄な文章が多い。\nもしいま僕がいなくなったとして、さすがに後任にこれだけの資料で引き継ぐのは酷。\n\nチーム開発をするにしても、いくら僕が天才であったとしても他の人に手伝ってもらうためには共有するための資料が必要。\nドキュメント作成スキルが高ければ高いほど、天才の脳みそを余すことなく共有することができるわけです。\n\nってことで、頑張ってドキュメント作成スキル磨きます。\n\n\n記事書くの久しぶりすぎてオチなかった。",{"id":43,"createdAt":44,"updatedAt":45,"publishedAt":44,"revisedAt":45,"name":46,"visible":17,"color":47},"k82kfk83e","2024-07-20T05:02:57.470Z","2024-10-18T00:26:46.183Z","デザイン","#ff357f",{"id":49,"createdAt":50,"updatedAt":51,"publishedAt":52,"revisedAt":51,"title":53,"type":54,"content":55,"category":56},"20211009","2024-08-11T07:39:44.088Z","2024-10-26T01:15:53.101Z","2021-10-09T11:02:00.000Z","Next.jsで勤怠管理システムを作ってみた",[10],"お久しぶりです。\n忙しさを言い訳にだいぶ更新をサボってしまってました(;^_^A汗)\n\nさて、僕はフリーランスエンジニアなんですけど、主に **準委任契約** でお取引させていただくことが多く、\n勤怠表の提出を求められる立場でして。\n\n今までは取引先さんの提供するWebシステムにポチポチ入力するだけだったんですけど、\nそういったものを提供していない会社さんとお取引させていただく場合、 **Excelに作業実績を記入していく**\nという方法を取っていることが多いと思うんですが...\n\n.\n.\n.\n\n\u003Cp class=\"x-large red\">そんなんめんどいですぅ～～ｗｗｗ\u003C/p>\n\n\u003Cp class=\"x-large red\">っていうかぼくのPCにExcelはインストールされてませんから～～～ｗｗｗ\u003C/p>\n\n\nってことで、 **勤怠管理をシステム化しよう計画** を立ち上げました。\n\n\n## 技術選定\n\n表題の通り、今回は前々から勉強しようと思っていた **React** で開発をすることにしました。\n\n複数ページにわたるWebシステムなので、フレームワークを利用するのが良いだろうということでNext.js。\n\nスタイリングに時間をかけたくないのでUIコンポーネントセットに Material UI を採用しました。\n\n\u003Cbr>\n\n個人で使うだけの簡易的なシステムに維持費をかけたくないので、DBもサーバも無料で使えるものということで、 firebase を採用！\n\nDBは firestore, サーバは firebase hosting を使っていきます！\n\n...と思ったんですが、\u003Cspan class=\"large red\">Next.jsは静的ホスティングにほとんど対応できてないらしいです\u003C/span>\n\u003Csmall>\u003Cs>クソですね\u003C/s>\u003C/small>\n\nNext.js でSSGとか騒がれてたから普通に静的出力できるもんだと思ってたんですけど、\nほんとにただの静的HTMLが出力されるだけで、Nuxt.js のHydration機能みたいなのは無かったみたいです。\n\nってことで、WebサーバにはNext.jsとの親和性が高いVercelを採用することになりました。\n\n\n## 雑に設計\n\n\u003Cblockquote class=\"twitter-tweet\" data-lang=\"ja\">\u003Cp lang=\"ja\" dir=\"ltr\">スマホでパパっと画面構成とAPI設計作ってみた。\u003Cbr>けど作るのだるいなー\u003Cbr>これもReactとGCPの勉強のためと思って頑張るか… \u003Ca href=\"https://t.co/VAAJm2U1UG\">pic.twitter.com/VAAJm2U1UG\u003C/a>\u003C/p>&mdash; Masaki@Web技術者 (@plus_one_masaki) \u003Ca href=\"https://twitter.com/plus_one_masaki/status/1434865085948719110?ref_src=twsrc%5Etfw\">2021年9月6日\u003C/a>\u003C/blockquote> \u003Cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\">\u003C/script>\n\nスマホで思いついた内容を簡単に書き出し。\n画面構成とDB・API設計をマークダウン形式でざっとリストアップしました。\nかかった時間は～30分程度ですかね。\n\nこの程度の走り書きでも開発の方針を決める重要な手順です。\n個人開発を行う人は必ず設計をしてからコーディングに入りましょうね。\n\n\n## UIの作成\n\n設計できてから3日後...\n\n\u003Cblockquote class=\"twitter-tweet\">\u003Cp lang=\"ja\" dir=\"ltr\">雑にUIのみ2画面作った\u003Cbr>こういう自分で使うだけの書き捨て系のサービスなんかは適当でいいのよ適当で \u003Ca href=\"https://t.co/EAAmiTiVMs\">https://t.co/EAAmiTiVMs\u003C/a> \u003Ca href=\"https://t.co/jAsn6cDJcB\">pic.twitter.com/jAsn6cDJcB\u003C/a>\u003C/p>&mdash; Masaki@Web技術者 (@plus_one_masaki) \u003Ca href=\"https://twitter.com/plus_one_masaki/status/1435964348908724238?ref_src=twsrc%5Etfw\">September 9, 2021\u003C/a>\u003C/blockquote> \u003Cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\">\u003C/script>\n\n\nさらにそこから4日後...\n\n\u003Cblockquote class=\"twitter-tweet\">\u003Cp lang=\"ja\" dir=\"ltr\">今のところの進捗はこんな感じ。おおよそUI完成？\u003Cbr>API連携部分はできてないけど動作も込みで作ってるから、バックエンドとの繋ぎ込みとロジック作ったらフロントエンドの作業は終わるかな\u003Cbr>\u003Cbr>といってもここから考慮漏れ等が出てくるんだけど。 \u003Ca href=\"https://t.co/SFlpiouTUg\">https://t.co/SFlpiouTUg\u003C/a> \u003Ca href=\"https://t.co/QEcGDWOfUL\">pic.twitter.com/QEcGDWOfUL\u003C/a>\u003C/p>&mdash; Masaki@Web技術者 (@plus_one_masaki) \u003Ca href=\"https://twitter.com/plus_one_masaki/status/1437344230372900869?ref_src=twsrc%5Etfw\">September 13, 2021\u003C/a>\u003C/blockquote> \u003Cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\">\u003C/script>\n\n善は急がないとモチベーションが維持できないタイプなので、サクサク作っていきます。\n\nさすがはフロントエンドの実装スピードに定評のあるMasaki、\nほとんど使ったことのないReactでもサクサクページが作れちゃう。およそ一週間くらいで必要なページの大半ができました。\n\nUIを作るだけならReactもVueも慣れによるものくらいでほとんど違いはないですね。\n\nダミーデータなのでAPIコールや計算などは含んでいませんが、\nその分シンプルに組みあがっているので肉付けをするだけですぐ動きそうです。\n\n\n## DB連携\n\nDBはfirestoreを使ったんですが、これが意外と曲者。 環境構築がイマイチ慣れない感じで時間を食いましたね。\n\nただ組み込んでしまえば難しいことはなく、設計したAPIのフォーマットがそのままスキーマにできるNoSQLはSPAとの相性が非常に良かったです。\n\n\n## そんなこんなでアプリはほぼ完成\n\n\u003Cblockquote class=\"twitter-tweet\">\u003Cp lang=\"ja\" dir=\"ltr\">だいたい動いてる感じするぞ。\u003Cbr>印刷にも対応。あとはテストしたらデプロイして完了かな？ \u003Ca href=\"https://t.co/pdpfF4bHAq\">https://t.co/pdpfF4bHAq\u003C/a> \u003Ca href=\"https://t.co/9ZdW8Dya3i\">pic.twitter.com/9ZdW8Dya3i\u003C/a>\u003C/p>&mdash; Masaki@Web技術者 (@plus_one_masaki) \u003Ca href=\"https://twitter.com/plus_one_masaki/status/1442489557690187784?ref_src=twsrc%5Etfw\">September 27, 2021\u003C/a>\u003C/blockquote> \u003Cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\">\u003C/script>\n\nまだバグの洗い出しなどが残っているものの、計画からおよそ20日で開発はだいたい完成。\n\nここからはデプロイのための調整なんですが、 \u003Cspan class=\"large red\">ここで firebase hosting に対応させるために様々な試行錯誤をするはめに...\u003C/span>\n\nどんな問題があったかというと、主にSSG関連なんですが\n\n- Next.js のSSGでは **i18n（多言語対応ライブラリ）が使用できない**\n  - 主に文言の管理にしか使ってないんですが、個人的に必須級のライブラリなのにこれは痛すぎる\n  - 結局、文言出力用のヘルパを自作することでなんとか対応。\n- Next.js のSSGでは `/projects/{projectId}` のように動的なパスを出力できない\n  - 静的な出力なんだから当然といえば当然、けどNuxtはそういうの対応してるんだよなぁ...\n  - Vercelサーバを使う場合に限って動的パスにも対応するってスタンスらしいです。こういうやり方嫌い。\n\nといった問題点があり、 **俺の中で Next.js の評価がダウンしましたｗｗｗ**\n\nまぁなんやかんやありまして、冒頭でも説明した通り **Vercel** のサービスを使うことにして無事デプロイ完了。\n\n\n## 細かい調整やバグを潰し、実稼働！\n\nそして出来上がったのがこちら。\n\n![kintai](https://images.microcms-assets.io/assets/e852287624264fe489bce11c73de8059/4dd3e44b4a4b405c9aa3dc44a02ff08e/kintai.png)\n\n印刷プレビューや認証周りの最適化などを行い、10月の稼働分から運用開始！\n仕事の合間にちょこちょこやって丁度一か月で運用まで乗せられました。\n\n必要な機能を網羅しつつ、省くところは省きましたが、なかなかのスピード感じゃないでしょうか。\n\n\n## React/Next.js を使ってみた感想\n\nReact/Next.jsを使ってみた感想としては、\n書き味としてはReactもVueも慣れればさほど違いはなく、スイッチしやすい技術だと感じましたね。\n\n[過去記事](/posts/2021/02/27.html) でVueを結構disってたんですが、\nReactを触ってみた結果、思ったよりもReactに優位性を感じないという感想になりました...\n\nReactが後方互換性を維持しつつバージョンアップしてる点については高評価な一方で、\nVue3にターゲットを絞って比較をすると、どちらも同じくらいすっきり書けます。\n\nまたフレームワークであるNextとNuxtで比べた時、Nuxt.jsの方が柔軟で高機能な印象がありました。\nNext.js は SSG の設計思想を間違えたのか単純に発展途上なのかわかりませんが、\n静的ホスティングで利用する用途においてはバグや機能が足りておらず、まだまだ採用できそうにないですね。\n\nというわけで、VueとReactどちらを使うのがいいかと問われた場合、\nエンジニアを採用する場合なら流行ってる方（今だとどっちもどっちかなぁ）。\n僕個人としてはVue/Nuxtをお勧めしつつ、Reactに慣れてる人が多いならそっちでもいいよ！ってスタンスですかね。\n",{"id":57,"createdAt":58,"updatedAt":59,"publishedAt":58,"revisedAt":59,"name":60,"visible":17,"color":61},"fkld4ydoh5sv","2024-07-20T05:03:23.987Z","2024-10-18T00:27:14.942Z","個人開発","#26dc44",{"id":63,"createdAt":64,"updatedAt":65,"publishedAt":66,"revisedAt":65,"title":67,"type":68,"content":69,"category":70},"20210622","2024-08-11T07:39:01.916Z","2024-10-26T01:15:29.344Z","2021-06-21T15:03:00.000Z","CSV+をプレリリースしました！",[10],"\nお久しぶりです、Masakiです。\n\n2021年6月18日に、長らく開発を続けてきたオープンソース・ソフトウェアの **「CSV+」** をプレリリースしました。\n\nまだプレリリース版なので不具合なども多く残っていますが、\n6月22日の執筆時点で **3191ダウンロード** と、GitHubでは **143スター** を獲得した傑作アプリとなりました！\n\n今回はエンジニアとしての技術的な面はさておき、CSV+のご紹介と開発に至った経緯をしていきたいと思います。\n\n\n## クロスプラットフォームに対応したタブ式CSVエディタ\n\nCSV+がどんなアプリかというと、 **クロスプラットフォームに対応したタブ式CSVエディタ** です。\n\nタブと聞くとスペース4個分のタブと混同しがちですけど、「タブブラウザのタブ」です。\n\nCSVはご存知の方も多いと思いますが、 **カンマ区切りの文字列またはその文字列を保存したファイル** のことを指します。\n\n**カンマ区切りの文字列を編集するためのソフト** という、\n言葉だけ聞くとすごくニッチなアプリに聞こえるんですが、\nこれがすこぶる好評でした。\n\nそのCSV+の見た目がこんな感じ。\n\n![CSV+](https://images.microcms-assets.io/assets/e852287624264fe489bce11c73de8059/6bc12472888843cba6a10ae16ff6f690/00_sample.png)\n\nシンプルな表計算ソフト風の見た目に、直感的に使いやすいタブを備えてます。\n\n**30日分の日次売上表を開いて前年同月比の売上推移を集計する** といった業務をする時に、\n今までは表計算ソフトがあちこちに立ち上がってどれを開いているのかわからない状態だったものが、\nCSV+なら1画面にまとめられてとっても便利です。\n\n\n複雑で高機能なものよりも、 基本的な作成・編集機能が使いやすいものが欲しいという方におすすめのアプリです。\n\nあと、特にMacやLinuxを使ってる方にも超おすすめです！！（他に選択肢がないので...ｗ）\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"3132107137\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n### ■ はてなブックマーク総合一位を獲得\n\nこのCSV+、TwitterでLPを公開したところ、ちょっとした話題になって喜んでいたんですが...\n\n\u003Cblockquote class=\"twitter-tweet\">\u003Cp lang=\"ja\" dir=\"ltr\">使いやすいフリーのCSVエディタが欲しいと思って開発していた、クロスプラットフォームでタブ式のCSVエディタ「CSV+」をリリースしました！\u003Cbr>シンプルだけど欲しかった機能が詰まってるソフトになりましたので、みなさんにも是非使ってみていただきたいです＼(^o^)／\u003Ca href=\"https://t.co/bwldtd7x2n\">https://t.co/bwldtd7x2n\u003C/a>\u003C/p>&mdash; Masaki@Web技術者 (@plus_one_masaki) \u003Ca href=\"https://twitter.com/plus_one_masaki/status/1405847791910350849?ref_src=twsrc%5Etfw\">June 18, 2021\u003C/a>\u003C/blockquote> \u003Cscript async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\">\u003C/script>\n\n\u003Cbr>\n\u003Cbr>\n\u003Cbr>\n\nなんと **はてなブックマーク** では総合一位を獲得！！\n\n![はてブ一位](https://images.microcms-assets.io/assets/e852287624264fe489bce11c73de8059/48c5401ff4284faeaa3a345a3a963365/csv-plus_hatena.png)\n\n\nさらに、あの [窓の杜](https://forest.watch.impress.co.jp/docs/news/1332873.html) さんや\n[ITmedia](https://www.itmedia.co.jp/news/articles/2106/21/news163.html) さんにも記事を掲載していただけました！\n\nなんだか僕の想像を越える期待値になってて恐縮です。。。ｗ\n\n\n## 言われなきゃ気付けないこだわりの機能を紹介\n\nまだまだ機能の少ないプレリリース版で機能が足りてない状況ではありますが、\nワタクシちょっとこだわって作った機能がありまして・・・\n\nこのアプリ、よくあるファイルのドラッグ＆ドロップに対応してます。\n\nファイルを直接アプリの画面にドロップして開くやつですね。\n\n![ドロップ前](https://images.microcms-assets.io/assets/e852287624264fe489bce11c73de8059/c42b50aacfe74e7eb5047c5f83f03b3b/drag_and_drop.png)\n\n\u003Cbr>\n\u003Cbr>\n\n実は、複数ファイルを一気にドロップしても...\n\n\u003Cbr>\n\u003Cbr>\n\n\n![ドロップ後](https://images.microcms-assets.io/assets/e852287624264fe489bce11c73de8059/b366adf8ce704694b4850875a91b540e/drag_and_dropped.png)\n\nちゃんと開けます！\n\n\u003Cbr>\n\nちょっとした部分ですけど、あるとないとじゃ使い勝手が違いますよね。ｗ\n\n\nさて、こんな細部に魂を込めるエンジニアが作る「CSV+」！！\n\nこれからメジャーリリースに向けて頑張ってアップデートしていきますので、 応援よろしくお願いします！！\n\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"8192862126\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n",{"id":57,"createdAt":58,"updatedAt":59,"publishedAt":58,"revisedAt":59,"name":60,"visible":17,"color":61},{"id":72,"createdAt":73,"updatedAt":74,"publishedAt":75,"revisedAt":74,"title":76,"type":77,"content":78,"category":79},"20210320","2024-08-11T07:38:35.114Z","2024-10-26T01:16:22.105Z","2021-03-19T15:03:00.000Z","【実務で使える！】未経験からエンジニアになるために学ぶべきこと",[10],"最近、というか昔からよく聞く言葉で **「未経験からでもエンジニアになれますか？」** という質問があります。\n\nエンジニアは全員未経験からエンジニアになっているので、その答えは当然 **「なれます」** としか答えようがないんですが、\n本当に未経験の人たちは現役のエンジニアに何を質問したらいいのかわからなくて、\nでも何か聞きたいしどうやってエンジニアになったらいいのか雲をも掴むような気持ちで質問しているんだと思います。\n\n特に最近は検索してもまともな答えが見つからず困ってる人も多いと思います。\n\nそんなエンジニア未経験・駆け出しエンジニアのみなさんのために、現役のフリーランスWebエンジニアの立場から、\nWebエンジニアになるために学ぶべきことをお伝えしていければと思います！\n\n:::tip エンジニアとはWebエンジニアのことなのか？\nSIer業界のSE/PGという呼称との差別化、といった歴史的経緯やYouTubeの影響もあり、\n単にエンジニアと言うとWeb系のプログラマをイメージすることが多いかもしれませんが、\nもちろんエンジニア＝Web系のプログラマのことではありません。\n\nですが僕が現役のWebエンジニアとして活動しているので、このブログでは **\"エンジニア\"** を **\"Web系のプログラマ\"**\nと仮定して話を進めます。それ以外の業界のこと知らないし。\n:::\n\n\n## 即金が欲しいなら勉強よりも先にやるべきことがある！\n\n巷では **「最短3ヶ月でエンジニアになれる！」** とか、 **「エンジニアで月収○○万円！」**\nとかって煽るようなプログラミングスクールの広告が目立つんですけど、\nそんなものは情報系出身の人間や趣味でプログラミングしていたような **既に出来上がってる**　人でないと無理です。\n\n今ぜんぜん稼げてなくて生活が苦しいから一刻も早くお金が欲しい！って人はバイト掛け持ちでもしましょう。\n目先の金にならないプログラミングの勉強をするよりも、バイトを掛け持ちでやった方が30〜40万くらいならパッと稼げますよ。\n\n:::tip 「フリーランスって稼げますか？」\n「未経験ですがエンジニアになれますか？」と並んで多い質問がこれ。\n\n\"稼げる\" がどの程度を指すのかは不明なんですけど、\n単月なら100万以上の売上になることは普通にあるし、その気になれば年商1000万も全然不可能じゃないよって感じです。\n\n僕からすると副業の単発案件で毎月10万を稼げるようになる！って目標の方がよっぽど難しいです。\n\nもちろん、個人でこれだけ稼ぐためには高度な技術ときちんと仕事を納める信用が必須です。\n大いなる力には大いなる責任が伴うことを肝に銘じておきましょう。\n:::\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"5019903878\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n## 初心者はまずLAMP相当の技術を習得しよう\n\nWebエンジニアを目指すのであれば、Webの世界で基本となる技術を知る・習得するところから始めましょう。\nWebシステムで一昔前に流行った構成として、 **LAMP** と呼ばれるものがあります。\n\nこれは Linux, Apache, MySQL, PHP の頭文字をとったもので、現在でもこの構成は広く使われてます。\n\n\n### ■ Linux\n\nLinuxとは、WindowsやMacと同じく、OSと呼ばれるものです。\nWebサーバやDBサーバを動かすための業務用で使われるコンピュータのため、 `サーバマシン` や単に `サーバ` とも呼ばれます。\n\n単に `サーバ` と言った場合、後述する `Webサーバ` のことを指す場合もよくあるので文脈に気をつけてください。\n\n**「Linuxを学ぶ」とは、Linuxでよく使われる基本的なコマンドを覚える・使えるようにする** ということです。\n\n具体的には下記のようなコマンドとその使い方を習得しましょう。\n\n- ssh でサーバに接続・ログインする\n- cd, cp, mv, ls, find, grep 等の基本操作コマンドを使いこなす\n- sudo の危険性\n- yum(CentOS), apt(Ubuntu) コマンドを使用したアプリケーションのインストール\n- パーミッション（権限）の意味と設定方法\n- vim, git などソフトウェアの使い方\n\n他にもコマンドは無限にあるので上げきれませんが、慣れてしまえば難しくないと思いますし、\nコマンドを暗記する必要はなく、ググって出てきたコマンドをきちんと読みながら実行できれば最低限クリアなんじゃないでしょうか。\n\n\n### ■ Apache\n\nApacheはサーバマシン上で動作する、Webサーバと呼ばれるミドルウェアです。\n作成したプログラムや画像ファイルなどを、インターネット上に公開するためのアプリケーションになります。\n\nWebサーバはApacheの他にNginxやNode.jsサーバなどがあり、特にNginxはApacheに替わる主流になりつつある？ といったところです。\n\n最近ではクラウドサービスの利用が増え、ApacheやNginxを直接いじる機会は減ってきていますが、\nそれでもWebサーバの役割と設定方法を知っているとめちゃくちゃ活きてきます。\n\nApache, Nginxどちらか一方で大丈夫なので、触っておくのをおすすめします。\n特に新人の頃につまづいたのは Rewrite系 の設定です。\n\nこれは自分で作成したWebサイトを公開する時に、Linuxの勉強と併せて設定を自分でやってみるのが手っ取り早いです。\n\n\n### ■ MySQL\n\nSQLとはデータベースを操作するための言語で、MySQLはSQLの中の一つの方言だと思って下さい。\nMySQLの他にはPostgreSQLやSQLite, Oracle Databaseなどがあります。\n\nまたデータベースという括りでは、NoSQLと呼ばれるものもあり、FirebaseやDynamoDBなどもSQLと選択的に使われています。\n\nデータベースとは、住所・氏名・年齢といった個人情報や、ツイートしたテキスト、\nアップロードした画像の保管場所といった情報を保存するためのミドルウェアです。\n\nこの中で、Web系の現場で最も一般的なのはやはりMySQLだと思います。\nデータベースはWeb開発の基礎になる部分ですので、 しっかりと書き方を覚えるようにましょう。\n\nMySQLはプログラミングを勉強する際に、セットで覚えるのが良いと思います。\nプログラミングの教本なら、MySQLを使ったアプリを作る課題もあると思います。\n\n\n### ■ PHP\n\n言わずとしれたプログラミング言語です。\n元々はテンプレートエンジンと呼ばれるプログラミング言語未満の存在だったんですが、今はWeb系では主力の言語とされてます。\n\n個人的にはPHPがおすすめではありますが、サーバサイド言語ならなんでも良いです。\nサーバサイドでよく使われる言語にはPHPの他に Java や Ruby などがあります。\n\nNode.js や Python なんかもサーバサイド言語ですが、実務レベルになるにはなかなか難易度が高いので、、、\n\n個人的にはPHPがおすすめです（2回目）\n\n\nWeb系の現場では、よく使われる機能をあらかじめ構築してある「フレームワーク」というのを使って開発をするのが一般的です。\nPHPなら [CakePHP](https://cakephp.org/jp) や [Laravel](http://laravel.jp/) が有名ですね。Rubyだと [Ruby on Rails](https://rubyonrails.org/) が使われます。\n\n更にWebアプリの裏側である管理画面（業務システムでは表側だったりしますが）には、フレームワークを利用して更に \"よくある画面\" を構築済みの「ボイラープレート」というのが使われることも多いです。\n\n例えば↓のような [AdminLTE](https://adminlte.io/themes/v3/) なんてのがあります。\n\n![admin-lte](https://images.microcms-assets.io/assets/e852287624264fe489bce11c73de8059/859506384d734fcf98a2c3b5ce8411d4/admin-lte.png)\n\nこうした構築済みのキットを、目的に合わせて改造してシステムを作っていくんですね。\n\nやりたいこと次第ではあるんですが、Laravelは初心者にとっては難しいフレームワークなので、\nもしLaravelを勉強するなら、こうしたボイラープレートを使ってみても良いかもしれません。\n\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"3132107137\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n## HTML/CSSは？\n\nここまで紹介した中に、Web系を目指してるみなさんが勉強しているであろうHTML/CSSが出てきてませんね。\n\nHTML/CSSっていうのは、もちろん奥が深いと言えばその通りなんですが、普通に書くだけなら誰でも出来る、\nいわば \"立って歩く\"/\"服を着る\" 程度に当たり前のことなんです。\n\n100mを10秒台で走るアスリートやおしゃれに着こなすモデルでもなければ、100人やって99人以上ができることをわざわざアピールする人はいませんね。\nmargin と padding の使い分けができない人は多いですけど...\n\nこれらはマークアップ言語と呼ばれ、一般的にプログラミング言語とは見なされません。\n\nHTML/CSSはWebエンジニアを目指す上でスタートラインに立つ前の基本教養だと思っておきましょう。\n\n\n## 最初に目指すべきこと\n\nまずはプログラミングの教本を買って、そこにあるサンプルのプログラムを写経して作りきりましょう。\nそしてVPSを契約して作ったプログラムをインターネット上に公開するところまでをやってみると良いと思います。\n\n意外とプログラミングって、０から作るとなると手が止まるもんです。\n何を作ればいいのか、どう作ればいいのか、プログラミングの構文を覚えただけじゃ実は何も作れないんですよね。\n\nならばいっそ、サンプルで作ったプログラムを公開するところまでを先にやりきっちゃった方が学べることって多いと思います。\n\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"8192862126\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n## まとめ\n\nコロナ禍や昨今のエンジニアブームで大量の未経験エンジニアが業界に流れ込んできた影響もあり、\n業界未経験からエンジニアへの転職するためのハードルは上がってきているようですが、\n実務経験を積み、技術を磨いたエンジニアの需要もまた年々上がってきています。\n\n僕自身、情報系の出身でありながらもプログラマーになるために何を学んだらいいか、\nどこまでできたら実務で通用するのかがわからずくすぶっていた時期が10年もありましたが、\nエンジニアになることができた今、あちこちからお仕事の相談をいただくようにもなり、\nこの仕事を心から楽しいって思えています。\n\n今回紹介したLAMPの技術を習得したところでエンジニア職への就職が決まるわけではありませんが、\n何から手を付けたらいいかわからないエンジニア志望者の助けになれば嬉しいです！\n",{"id":80,"createdAt":81,"updatedAt":82,"publishedAt":81,"revisedAt":82,"name":83,"visible":17,"color":84},"w_h7n7usl5","2024-07-20T03:51:24.029Z","2024-10-04T01:21:50.341Z","プログラミング","#f70306",{"id":86,"createdAt":87,"updatedAt":88,"publishedAt":89,"revisedAt":90,"title":91,"type":92,"content":93,"category":94},"20210227","2024-08-11T07:38:10.661Z","2024-10-14T07:00:55.342Z","2021-02-27T03:14:00.000Z","2024-10-14T07:00:50.243Z","Vue3を触ってみた感想",[10],"2020年9月にVue3が正式リリースされ、だいぶ安定してきた感じがするので、\nここのところ Vue.js + TypeScript を使った個人開発をしています。\n\n扱い方も慣れてきたので、使ってみた感想を書いていきたいと思います。\n\n\n## v-model の破壊的変更\n\nVue2 までの構文では v-model は `value` と `@input` のシンタックスシュガーでしたが、\nVue3 ではこれが `modelValue` と `@update:modelValue` に変わっています。\n\nこの変更によって既存のVue2プロジェクトをVue3に移行する際には大幅な書き換えが必要となっており、\nVueに依存するライブラリが軒並み使えなくなってしまうという事態が発生。\n\n今まで使っていたサードパーティ製ライブラリは今後対応されるかどうかも怪しい感じですね...\n\n\u003Cspan class=\"large red\">主　要　な　構　文　に　破　壊　的　変　更　入　れ　て　ん　じ　ゃ　ね　え　よ　。\u003C/span>\n\n\n## Composition API の TypeScript支援\n\nVue3 の一番のトピックといえば Composition API ですね。\n\nTypeScriptによる型推論が完全に効くことに加え、\nmethods や computed といった\"処理\"を別ファイルに分離できるようになったのが特徴です。\n\n例えば v-model の実装では、computed の getter/setter 機能を使ったコードを使っていましたが、\nこれを共通化することができました。\n\n```js\n// Vue2 までの書き方\nexport default {\n  computed: {\n    _value: {\n      get () {\n        return this.value\n      },\n      set (value) {\n        this.$emit('input', value)\n      },\n    },\n    _max: {\n      get () {\n        return this.max\n      },\n      set (max) {\n        this.$emit('update:max', max)\n      },\n    },\n  },\n}\n```\n\n```js\n// Vue3 での新しい書き方\nimport vModel from '@/utils/vModel'\n\nexport default {\n  setup (props, context) {\n    const value = vModel('modelValue', props, context)\n    const max = vModel('max', props, context)\n  },\n}\n\n// vModel.ts\nimport { computed, SetupContext } from 'vue'\n\nexport default (key: string, props: { [key: string]: unknown }, { emit }: SetupContext) => computed({\n  get: () => props[key],\n  set: updateValue => emit(`update:${key}`, updateValue),\n})\n```\n\nこんな感じで共通処理にしてしまうことで、コンポーネント側は処理を呼び出すだけのシンプルな記述ができるようになり、\n処理の見通しが非常に良くなったのは好印象。\n\nコンポーネントには具体的な処理ではなく、 **このコンポーネントでは何をするのか** という振る舞いだけが書かれる形にできます。\n\n\n:::tip Vue2 にも mixin があったじゃん？\nファイルの分離って意味では Vue2 にも `mixin` という構文がありましたけど、あれはダメですね。\nPHP の Trait と同じで、表から見えないメソッドが勝手に生えるので見通しは逆に悪くなるし、基本的に使わないのが正解だと思います。\n:::\n\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"5019903878\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n## 総評\n\n今回は使い勝手について簡単にご紹介しましたが、この他にもバージョンアップらしくコンパイル時のサイズや処理の高速化など内部的な変更も多数あるようで、\nもともと大規模開発向きではなかったVue.jsも、大規模な開発に耐えられるような形になってきたことは期待が持てます。\n\nとは言え、 **v-model の破壊的変更は致命的ですね。** これによって主要なライブラリが出揃うまでに時間がかかってしまう点や、\nNuxt や VueRouter, Vuex などの使い勝手も大幅に変わってしまう可能性が高いです。\n\nこれは AngularJS が衰退したのと同じ道な気がして仕方ないし、今後に新規で開発を行うとなった時に、Vue.js が選択肢から外れる可能性が上がりました。\n\n\u003Cspan class=\"large\">だってできることがReactと大して変わらねーもん。\u003C/span>\n",{"id":80,"createdAt":81,"updatedAt":82,"publishedAt":81,"revisedAt":82,"name":83,"visible":17,"color":84},{"id":96,"createdAt":97,"updatedAt":98,"publishedAt":99,"revisedAt":98,"title":100,"type":101,"content":102,"category":103},"20201229","2024-08-11T07:37:44.947Z","2025-01-02T02:55:17.370Z","2020-12-29T14:24:00.000Z","Nuxtの自動テスト環境を構築しました(2)",[10],"今回、僕が関わっているNuxtのプロジェクトに後付けで自動テストを導入しました。\n\n巷では自動テストは必須だの必要だのとよく言われる割に、\nベストプラクティスというのが欠けている感じがして環境の構築にかなり苦労しました。\n\n今回、Nuxtのプロジェクトに広く使えそうな手法を見つけましたので、\n同じように悩んでいるみなさんの助けになればと思います。\n\n- [Nuxtの自動テスト環境を構築しました(1)](/posts/2020/10/29.html)\n- [Nuxtの自動テスト環境を構築しました(2)](/posts/2020/11/17.html) \u003C 今回の記事\n\n## 環境構築\n\nさて、前回の記事で自動テストの方針決め・技術選定までができましたので、ここからはいよいよ環境構築に入ります。\n\nテスト用のディレクトリ構成は下記のようにしました。\n\n```\ntests/\n┃\n┣ unit/\n┃  ┣ components/\n┃  ┃  ┣ SomeComponent.test.js\n┃  ┃  ┗ ...\n┃  ┗ setup.js\n┃\n┗ e2e/\n    ┣ pages/\n    ┃  ┣ index.test.js\n    ┃  ┗ ...\n    ┣ utils/\n    ┃  ┗ functions.js\n    ┣ setup.js\n    ┗ teardown.js\n\n```\n\n見たらわかると思いますが、それぞれNuxtの **components/** と **pages/** のディレクトリに対応するようにしています。\n\nこれによってカバレッジを確認しなくともテスト未作成のコンポーネントやページをすぐに確認できるようになっています。\n\nディレクトリ構成ができたところで、設定ファイルなどを作成していきましょう。\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"5019903878\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n### ■単体テスト用の設定\n\nまず jest を利用するために、 `jest.config.js` を作成していきます。\n\nユニットテストは単純にコンポーネントの入出力をテストするだけなのでシンプルです。\n\n```js\n// jest.config.js\n\nmodule.exports = {\n  collectCoverage: true,\n  collectCoverageFrom: [\n    '\u003CrootDir>/components/**/*.vue',\n  ],\n  moduleNameMapper: {\n    '^@@/(.*)$': '\u003CrootDir>/$1',\n    '^@/(.*)$': '\u003CrootDir>/$1',\n    '^~/(.*)$': '\u003CrootDir>/$1',\n    '.+\\\\.(css|styl|less|sass|scss|png|jpg|ttf|woff|woff2)$': 'jest-transform-stub',\n  },\n  moduleFileExtensions: ['js', 'vue', 'json'],\n  setupFiles: ['\u003CrootDir>/tests/unit/setup.js'],\n  testMatch: ['\u003CrootDir>/tests/unit/components/**/?(*.)+(spec|test).[jt]s?(x)'],\n  transform: {\n    '^.+\\\\.js$': 'babel-jest',\n    '.*\\\\.(vue)$': 'vue-jest',\n  },\n  verbose: true,\n}\n```\n\n基本的にコピペで十分だと思いますが、軽く補足しておくと\n\n- **collectCoverageFrom** でテスト対象のディレクトリを指定することで、カバレッジを表示できるようにしています。\n- **setupFiles** で `setup.js` を指定することで、テスト開始前に初期化処理を入れています。\n- **verbose** はテストの詳細を表示するもので、出力結果がドキュメントとして読めるようになり、テストレビューがしやすくなります。おすすめ。\n\n\n次に `setup.js` の中身を見てみましょう。\n\n```js\n// setup.js\n\nimport 'intersection-observer'\nimport Vue from 'vue'\nimport Vuex from 'vuex'\nimport { config, RouterLinkStub } from '@vue/test-utils'\n\nVue.use(Vuex)\n\nconfig.stubs = {\n  Nuxt: '\u003Cdiv />',\n  NuxtLink: RouterLinkStub,\n  RouterLink: RouterLinkStub,\n  ClientOnly: '\u003Cspan>\u003Cslot />\u003C/span>',\n}\n```\n\nユニットテストでは、Nuxtフレームワークとしてではなく、Vueのコンポーネント単体としてテストを実施します。\n\nそのためNuxtでは自動的に読み込んでくれていたVuexやVuetifyなどのコンポーネントセット、プラグイン等は必要に応じて明示的に読み込む必要があります。\nこうした初期化処理はまとめて `setup.js` で行うようにします。\n\n\n### ■機能テスト用の設定\n\n機能テストでは puppeteer や swagger といった複数のアプリケーションを起動する必要があるため、 設定が複雑になります。\n\nまずはコンフィグファイルから見ていきましょう。\n\n```js\n// jest.config.e2e.js\n\nmodule.exports = {\n  bail: 1,\n  collectCoverage: false,\n  globalSetup: '\u003CrootDir>/tests/e2e/setup.js',\n  globalTeardown: '\u003CrootDir>/tests/e2e/teardown.js',\n  moduleNameMapper: {\n    '^@@/(.*)$': '\u003CrootDir>/$1',\n    '^@/(.*)$': '\u003CrootDir>/$1',\n    '^~/(.*)$': '\u003CrootDir>/$1',\n    '.+\\\\.(css|styl|less|sass|scss|png|jpg|ttf|woff|woff2)$': 'jest-transform-stub',\n  },\n  moduleFileExtensions: ['js', 'vue', 'json'],\n  preset: 'jest-puppeteer',\n  testMatch: ['\u003CrootDir>/tests/e2e/**/?(*.)+(spec|test).[jt]s?(x)'],\n  transform: {\n    '^.+\\\\.js$': 'babel-jest',\n    '.*\\\\.(vue)$': 'vue-jest',\n  },\n  verbose: true,\n}\n```\n\nここでも補足をしておきます。\n\n- ブラウザを利用するテストは時間がかかるため、時間短縮のために `bail` でテストに1回失敗したら即終了するように設定しました。\nこれは稼働時間で課金されるCIのコスト低減が目的です。\n- puppeteer を利用したテストでは、カバレッジが正しく測れないため `collectCoverage` は無効にしています。\n- `globalSetup` `globalTeardown` は最初と最後に1回だけ実行される処理です。ブラウザやサーバの起動・終了を管理しています。\n\n\nそして `jest.config.e2e.js` を読み込むための設定が必要です。\n`package.json` に下記のように記述をします。\n\n```json\n{\n  \"scripts\": {\n    \"test:e2e\": \"jest --config=jest.config.e2e.js --runInBand\"\n  }\n}\n```\n\nこれで機能テスト向けの設定ができました。\n\n`--runInBand` はテスト1個1個を同期的に実施するためのオプションです。\nAPIサーバの戻り値によってテストの結果が変化してしまうため、非同期でのテストができなかったための対処です。\n\n\nでは次に `globalSetup` の内容を見てみましょう。\n\n```js\n// setup.js\n\nimport jestPuppeteerSetup from 'jest-environment-puppeteer/setup'\nimport { Builder, Nuxt } from 'nuxt'\nimport config from '../nuxt.config'\nimport server from '../swagger/app'\nimport './utils/functions'\n\n/**\n * Nuxtのビルドとサーバーの起動\n */\nconst setupNuxtServer = async () => {\n  global.nuxt = new Nuxt(config)\n  await new Builder(nuxt).build()\n  nuxt.listen(3000)\n}\n\n/**\n * SwaggerAPIのモックサーバを起動\n */\nconst setupApiMockServer = async () => {\n  global.server = await server\n}\n\nexport default async () => Promise.all([\n  setupNuxtServer(),\n  setupApiMockServer(),\n  jestPuppeteerSetup(),\n])\n```\n\n注目していただきたいのが `export default` の部分です。\n\nNuxtサーバ・APIモックサーバ・そして puppeteer（ブラウザ）が全て起動すればテストが開始されるようになっています。\n**Promise.all()** の使い方はしっかりと覚えておいてくださいね。\n\n\n続いて、 `Swagger` もインストール後にちょっと手を加えていますのでお見せします。\n\n```js\n// swagger/app.js\n\nconst SwaggerExpress = require('swagger-express-mw')\nconst bodyParser = require('body-parser')\nconst app = require('express')()\n\nconst config = {\n  appRoot: __dirname, // required config\n}\n\nmodule.exports = new Promise(resolve => {\n  SwaggerExpress.create(config, function(err, swaggerExpress) {\n    if (err) throw err\n\n    app.use(bodyParser.urlencoded({ extended: false }))\n    app.use(bodyParser.json())\n\n    // install middleware\n    swaggerExpress.register(app)\n\n    const port = process.env.PORT || 10010\n    resolve(app.listen(port))\n  })\n})\n```\n\nここでは `module.exports` の戻り値に `app.listen()` が非同期で返されていると思います。\nこれにより、 `globalTeardown` でAPIサーバを終了させることができます。\n\n:::tip\n`globalSetup` で設定したグローバル変数は、 `globalTeardown` に引き継がれます。\nセットアップした状態を簡単に終了させることができるようになっているんですね。\n:::\n\n\n`globalTeardown` はこのようになっています。\n\n```js\n// teardown.js\n\nimport jestPuppeteerTeardown from 'jest-environment-puppeteer/teardown'\n\nexport default () => {\n  global.nuxt.close()\n  global.server.close()\n  jestPuppeteerTeardown()\n}\n```\n\n\nこれで環境構築はできました。次はいよいよテストコードを書いていきましょう。\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"3132107137\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n## 単体テストの書き方\n\n単体テストでは、その名の通りVueのコンポーネント単体をテストしていきます。\n書き方としては、 **`props` と `data` の項目を網羅する** ようにテストを書くのがコツです。\n\n実際に見ていきましょう。\n\n例として、Webアプリの「ホームに戻る」という機能を持つ `HomeButton` というボタンコンポーネントを用意しました。\nこれはVueのフレームワークである `Vuetify` の `v-btn` をラップしたコンポーネントです。\n\n```js\n\u003Ctemplate>\n  \u003Cv-btn\n    v-bind=\"$attrs\"\n    :to=\"to\"\n    :outlined=\"outlined\"\n    class=\"home-button no-active\"\n    color=\"blue\"\n    nuxt\n  >\n    ホームに戻る\n  \u003C/v-btn>\n\u003C/template>\n\n\u003Cscript>\nexport default {\n  name: 'HomeButton',\n  props: {\n    to: { type: String, default: '/' },\n    outlined: { type: Boolean, default: true },\n  },\n}\n\u003C/script>\n```\n\nこのコンポーネントは props が to と outlined の2種類のみです。\nそれぞれ「リンク先のパス」「ボタン背景を枠線のみにする/しない」の設定項目となります。\n\nこれに対応する単体テストはこのようになります。\n\n```js\n// unit/components/HomeButton.test.js\n\nimport Vuetify from 'vuetify'\nimport { createLocalVue, mount, RouterLinkStub } from '@vue/test-utils'\nimport Component from '@/components/HomeButton'\n\nconst localVue = createLocalVue()\nconst vuetify = new Vuetify()\n\nconst wrapper = mount(Component, {\n  localVue,\n  vuetify,\n})\n\ndescribe(`[${Component.name}]のテスト`, () => {\n  describe('デフォルトの表示', () => {\n    test('「ホームに戻る」と表示されている', () => {\n      expect(wrapper.text()).toBe('ホームに戻る')\n    })\n\n    test('button ではなく aタグである', () => {\n      expect(wrapper.is('a')).toBe(true)\n    })\n\n    test('リンク先が \"/\" になっている', () => {\n      expect(wrapper.find(RouterLinkStub).props().to).toBe('/')\n    })\n\n    test('文字色が blue である', () => {\n      expect(wrapper.classes()).toContain('blue--text')\n    })\n\n    test('枠線のみになっている', () => {\n      expect(wrapper.classes()).toContain('v-btn--outlined')\n    })\n  })\n\n  describe('カスタマイズ', () => {\n    describe('リンク先を \"/home\" に変更', () => {\n      beforreAll(() => {\n        wrapper.setProps({ to: '/home' })\n      })\n\n      test('リンク先が \"/home\" になっている', () => {\n        expect(wrapper.find(RouterLinkStub).props().to).toBe('/home')\n      })\n    })\n\n    describe('枠線のみを解除', () => {\n      beforeAll(() => {\n        wrapper.setProps({ outlined: false })\n      })\n\n      test('背景色が blue になる', () => {\n        expect(wrapper.classes()).toContain('blue')\n        expect(wrapper.classes()).not.toContain('blue--text')\n      })\n    })\n  })\n})\n```\n\n:::warning フレームワークの読み込みを忘れないように\n※Vuetifyを使用するためには、 setup.js で読み込み設定が必要になります。\n:::\n\n\nこのように「初期状態」と「カスタマイズして変わること（または変わらないこと）」をテストに記述しておくことで、\n無駄なく漏れの少ないテストとなり、文書としても読みやすくなります。\n\nまたお気づきのように、 `props` や `data` の項目数が増えるごとにテストしなければならない数が増えていき、\nメンテナンスの手間も増えていってしまいます。\n\nテスタブルなコンポーネントを設計する際には、 **`props` や `data` の数が少ないほどテストが楽になる**\nということを覚えておくといいかもしれません。\n\n:::danger コンポーネントにはなるべく状態を持たせないようにしよう\ndata のテストは大変です。\nコンポーネントの外部から値を注入しづらい上に、内部では自由に値を変えられるために状態を固定するのが難しいためです。\ncomponents/ の中ではなるべく data を使わないようにしましょう。 Vuexも同様です。\n\nちなみに僕が最近開発したPJでは、 components/ 内のコンポーネントには data は一切使っていませんでした。\n:::\n\n\n## 機能テストの書き方\n\n単体テストでは props に対して値を直接入力した結果をテストしていました。\nこれが機能テストになると、APIの戻り値やVuexの状態、フォームの入力値など様々な値が画面に影響を及ぼします。\n\nそのため、画面の状態に大きな影響を及ぼす変化からカテゴリ分けをしてテストのフローを組み立てていきます。\n\n例えばECサイトの商品ページのテストであれば、このような構造になると思います。\n\n```\nAPIの戻り値\n┃\n┣ 404 エラー（商品が見つかりませんでした）\n┃  ┃\n┃  ┗ エラー画面のため、Vuexやフォームは検証不可\n┃\n┗ 200 OK（商品ページ）\n    ┃\n    ┗ ログイン状態の検証（Store）\n        ┃\n        ┣ ログイン済み\n        ┃  ┗ 送付先フォームは非表示\n        ┃\n        ┗ 未ログイン\n            ┗ 送付先フォームの入力検証\n```\n\n基本的には **APIの戻り値** > **ローカルの状態管理** > **フォームの値** の順に影響範囲が大きいと思いますので、\n影響範囲の大きさ順に階層を作ることで、抜け漏れなく網羅することができます。\n\n実際のコードにするとこんな感じになります。\n\n```js\ndescribe(`商品ページのテスト`, () => {\n  beforeEach(() => {\n    page.goto(url)\n  })\n\n  describe('商品が見つからない場合', () => {\n    test('「商品が見つかりませんでした」と表示される', async done => {\n      const text = await page.$eval('.error-message.', el => el.textContent)\n      expect(text).toBe('商品が見つかりませんでした')\n      done()\n    })\n\n    test('「ホームに戻る」ボタンが表示される', async done => {\n      const text = await page.$eval('.home-button', el => el.textContent)\n      expect(text).toBe('ホームに戻る')\n      done()\n    })\n  })\n\n  describe('商品が存在する場合', () => {\n    beforeAll(async () => {\n      await axios.post('/products', sampleProduct)\n      await page.goto(url)\n    })\n\n    describe('未ログインの場合', () => {\n      test('送付先フォームが存在する', async done => {\n        const $el = await page.$('#profile-input-form')\n        expect(!!$el && (await $el.boundingBox()) !== null).toBe(true)\n        done()\n      })\n\n      describe('入力値の検証', () => {\n        describe.each([\n          ['郵便番号: なし', '', '郵便番号は必須項目です'],\n          ['郵便番号: 0001111', '0001111', ''],\n          ['郵便番号: 000-1111', '000-1111', ''],\n          ['郵便番号: 12345678', '12345678', '郵便番号の入力形式が間違っています'],\n          ['郵便番号: 1234-5678', '1234-5678', '郵便番号の入力形式が間違っています'],\n        ])('%s', (title, input, error) => {\n          test(error || 'OK', async done => {\n            await page.type('#profile-input-form .zipcode', input)\n            const text = page.$eval('#profile-input-form .zipcode error-message', el => el.textContent)\n            expect(text).toBe(error)\n            done()\n          })\n        })\n\n        // ...各フォーム値の検証\n      })\n    })\n\n    describe('ログイン済みの場合', () => {\n      beforeAll(async () => {\n        await axios.post('/users', user)\n        await page.goto(url)\n      })\n\n      test('送付先フォームが存在しない', async done => {\n        const $el = await page.$('#profile-input-form')\n        expect(!!$el).toBe(false)\n        done()\n      })\n    })\n  })\n})\n```\n\nこのテストではAPIのモックサーバとして Swagger を使用していますが、\naxios でPOSTされた値を保持しておき、次にGETされた時にその値をそのまま返すようにしてあります。\n\nこれによって、DBを使用せずにテストコードからAPIの戻り値を編集できるようになっているんですね。\n\nそして大きな項目から小項目へとネストをすることで、無駄な処理やテストの重複を極力減らす形になっていると思います。\n\n\nまたテスト中に「ホームへ戻る」ボタンが出てきますが、\nこれは単体テストで動作を保証しているので存在チェックだけで問題ありません。\n機能テストはテストの作成にも実行にも時間がかかりますので、\nできるだけコンポーネントは分割して単体テストで検証しておくことも重要なコツです。\n\n\n\u003Cins class=\"adsbygoogle\"\nstyle=\"display:block; text-align:center;\"\ndata-ad-layout=\"in-article\"\ndata-ad-format=\"fluid\"\ndata-ad-client=\"ca-pub-9835503912749997\"\ndata-ad-slot=\"8192862126\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n### ページをまたぐテストをしたい場合\n\n機能テストを行う中で、ページをまたぐテストを行いたい場合があると思います。\n\n例えば **「カートに入れる」** という機能で、こんなテストを実施したいという場合です。\n\n1. 商品ページで「カートに入れる」ボタンを押すと、「カートに追加完了」画面に遷移する\n2. ホームに戻ると、カートのアイコンに数字が追加されているのが確認できる\n3. カートのアイコンをクリックすると、追加した商品が入っているのが確認できる\n\n\nこういったパターンへのアプローチは色々あると思いますが、\n何も考えずに実装すると後々メンテナンスができずに苦労することになります。（実体験）\n\n僕なら 1, 2, 3 それぞれを別画面のテストとして分ける形にすると思います。\n具体的に言うと、\n\n1. 商品ページのテスト\n2. 「カートに追加完了」画面のテスト\n3. ホーム画面のテスト\n\nといった形でページごとにテストを分け、 2 や 3 をテストする場合はAPIの戻り値でカートに入れた時点の状態を再現するようにします。\n\n各ページの責務を完全に分けてしまうことで、「どのテストをどこに書いたら良いか」で迷うことを減らす目的があります。\nまた動作に変更が入った場合に影響範囲の切り分けがしやすくなるメリットもあります。\n\n状態をVuexで持ち回っている場合などはVuexのテストが難しい問題点はありますが、\n実も蓋もない話ですがそもそもVuexはテストしづらいので、あんまりデータをVuexで管理するのはおすすめしません。\n\n\n## まとめ\n\n自動テストの重要性を語る記事や、何の役にも立たないサンプルコードが載っている記事は巷に溢れていますが、\n実践的な自動テストの記事が全然見つからなかったことからこの記事を書くに至りました。\n\n- 自動テストって言うけど、そもそも何をテストしたらいいのかわからない\n- テスタブルな実装にはしてみたけど、これをどうやってテストに起こせば良いのかわからない\n- テストを自動化はしてみたけど、このやり方で合ってるのか不安\n\nそんな思いを感じているみなさまの役に立ってくれたら幸いです！\n",{"id":80,"createdAt":81,"updatedAt":82,"publishedAt":81,"revisedAt":82,"name":83,"visible":17,"color":84},{"id":105,"createdAt":106,"updatedAt":107,"publishedAt":108,"revisedAt":109,"title":110,"type":111,"content":112,"category":113},"20201029","2024-08-11T07:37:15.989Z","2024-10-14T07:02:03.548Z","2020-10-29T11:16:00.000Z","2024-10-14T07:01:58.346Z","Nuxtの自動テスト環境を構築しました(1)",[10],"今回、僕が関わっているNuxtのプロジェクトに後付けで自動テストを導入しました。\n\n巷では自動テストは必須だの必要だのとよく言われる割に、\nベストプラクティスというのが欠けている感じがして環境の構築にかなり苦労しました。\n\n今回、Nuxtのプロジェクトに広く使えそうな手法を見つけましたので、\n同じように悩んでいるみなさんの助けになればと思います。\n\n- [Nuxtの自動テスト環境を構築しました(1)](/posts/2020/10/29.html) \u003C 今回の記事\n- [Nuxtの自動テスト環境を構築しました(2)](/posts/2020/12/29.html)\n\n\n:::tip\n記事作成にあたり、説明が長くなってしまったため記事を分けました。\n今回はテストを作成する前段階の、方針決定から技術選定までのお話しです。\n:::\n\n## テスト対象と方針\n\nNuxtでは、Vueコンポーネントを配置するディレクトリによって、 `ページ` と `コンポーネント` に分かれています。\nそれぞれ役割が明確に違うため、テスト対象は自ずと決まってきます。\n\n- ページはいくつかのコンポーネントを組み合わせ、APIのコールや状態の管理など複合的に動作するため、 `機能テスト` で検証します。\n- コンポーネントは単体で動作するように作り、APIのコールなどは含みません。そのため `ユニットテスト` で検証が可能です。\n\n\n### ■ テストの作成方法\n\nテストの作成方法ですが、 `シナリオ主導型` と `ファイル対応型` のパターンがあります。（どちらも僕が勝手に付けた造語です）\n\n`シナリオ主導型` は **「トップページから入ってきたユーザーが、商品ページを開いて商品をカートに入れる」**\nといったユーザーの一連の行動をテストに書き起こしたもので、\nページやファイルと言ったプログラムの都合ではなく、ユーザー視点から見たテストが行えるのが特徴です。\n\nこれは主にV字開発モデルでいう **受け入れテスト** に相当します。\n\n\u003Cbr>\n\n`ファイル対応型` は1ファイル（コンポーネント）に対して1つのテストファイルを作成し、メソッドや機能を網羅するようにテストを作成していきます。\n条件を網羅して確認をおこなうため、単純な計算ミスや文言の間違いといった見落としがちな部分を重点的に確認するのに向いています。\n\nこれは **単体（ユニット）テスト** や **結合（機能）テスト** に当たるものです。\n\n\u003Cbr>\n\n今回のテスト作成にあたり、僕が重点的に確認したかったのは **「外部から入場してきたユーザーが無事に商品購入まで辿り着くこと」** ではなく、\n「機能追加によって昨日まで動いていたコードが動かなくなっていないか」といった、 **今回の変更でのデグレが起きていないこと** でした。\n\nこれは `シナリオ主導型` のテストではチェックの漏れが起きやすく、条件を網羅しようとすればメンテナンスの工数が膨大になってしまいます。\n\nまた今まで見てきた `シナリオ主導型` のテストは **「このシナリオ、どのテストファイルに記述すればいいんだっけ？」** とか、\n **「よく見たらテスト重複してるじゃーん」** のように、ファイルの置き場所に起因する混乱が生じやすいと感じました。\n\n\u003Cbr>\n\nそのため、今回はシナリオ主導型のテストコードは採用せず、 `ファイル対応型` のユニットテスト、機能テストを採用することにしました。\n\nデグレを防ぐ目的のテストであれば、通常はこの方針を選択しておけば間違いないと思います。\n\n:::tip\nブラウザを利用してテストを行う `E2Eテスト` は、 `シナリオ主導型` で記述するのが一般的なようです。\nですが **一般に倣って本当に実現したいことがブレてしまう** のは本末転倒。\n\n「そのプロジェクトにおいて何をテストしたいのか」を常に念頭に置いてテスト設計を行うことを推奨します。\n:::\n\n\n\u003Cins class=\"adsbygoogle\"\n     style=\"display:block; text-align:center;\"\n     data-ad-layout=\"in-article\"\n     data-ad-format=\"fluid\"\n     data-ad-client=\"ca-pub-9835503912749997\"\n     data-ad-slot=\"5019903878\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n## テストに利用されるライブラリ・ツール\n\nさて、方針が定まったところで技術選定です。\n\nですがその前に、テスト用のツールの中にはいくつか専門的な用語が出てきますのでご紹介しておきたいと思います。\n\n\n### ■ テストランナー\n\nテストを実行する際の本体となるライブラリです。\n\n- テストコードを実行する\n- テストをファイル・ページ・検証内容といった単位で分割し、実行順序をコントロールする\n- アサーション（検証）を実施する\n- 検証結果を集計し、カバレッジを表示する\n\nこれらテストの基本となる機能を揃えたツールが `テストランナー` で、\n多機能なものからシンプルなものまで様々な種類のライブラリが存在し、 **技術選定で最も頭を悩ませる部分** でもあります。\n\n代表的なライブラリに `jest` `mocha` `jasmine` `ava` などがありますが、\n選択肢が多すぎて選べない人のためにあえて断定するなら、 **多機能なjest** か **単機能なava** のどちらかを選んでおけば間違いないと思います。\n\n\n### ■ モック\n\n例えばコンポーネントのテストをする際、\n**Vuexなど外部への依存があるためにコンポーネント単体でテストが実施できない**\nなどの課題が出てくる場合もあるかと思います。\n\nそんな時に活躍するのが `モック` です。\n\nコンポーネント、メソッド、APIの戻り値のような、テストしたい対象が依存している存在のダミーを作成してくれるツールです。\n単体で完結するコンポーネントのユニットテストなどでは不要です。\n\nモックはライブラリごとにできること・できないことが明確に分かれているので、目的に応じて選択する必要があります。\n\n代表的なライブラリとしては `sinon` があります。\nその他にも、 `jest` にも強力なモック機能が備わっていたり、`swagger-node` ではAPIサーバのモックを建てることもできます。\n\n\n### ■ ブラウザ自動化ツール、仮想ブラウザ\n\nWebにおけるフロントエンドとは、ブラウザで表示できるものを指します。\n\nブラウザ自動化ツールを使用することで、ブラウザの起動やページアクセスと言ったブラウザ操作をプログラミングで制御することができるようになります。\n\n`仮想ブラウザ` は実際の描画は行わずに出力されるHTMLやCSSを解析して検証を行うツールです。\nCSSセレクタを利用してDOM要素を抽出したり、フォーム入力やボタンクリックなどの動作を検証することも可能ですが、\nあくまで **ブラウザを模したツール** でしかないため、特に仮想DOMで描画を行うVueやReactでは、実際の動きとは異なる場合が出てきます。\n\n`仮想ブラウザ` では `jsdom` というライブラリが有名ですね。\n\n\n`仮想ブラウザ` に対して `ブラウザ自動化ツール` は、実際のブラウザを起動して描画を行う点で本物の動作を再現することができます。\nまた仮想ブラウザ同様に、CSSセレクタを使ったDOM要素の抽出、フォーム入力などももちろん行えます。\n\nただし、実際のブラウザを起動するために起動に非常に時間がかかるのがデメリットで、起動だけで数十秒〜1分以上かかる場合もあります。\n（仮想ブラウザは数秒以内に起動します）\n\n`ブラウザ自動化ツール` で有名なライブラリは `Selenium` `Puppeteer` `Nighmare` `Cypress` などがあります。\n\n\n## 技術選定\n\nそれでは目的に合わせて使用するツールを選定していきます。\n\n\n### ■ ユニットテスト\n\nまず `ユニットテスト` ですが、ユニットテストではコンポーネントを単体で立ち上げて動作検証を行いますので、\n基本的に `テストランナー` だけで事足りると思います。\n\n機能的にもシンプルなテストランナーで十分だったため `ava` をおすすめしたいところなんですが、\n後述の `機能テスト` を構築する際に `jest` の方がやりやすかったので、共通のライブラリで通せるよう `jest` を採用しました。\n\nその他にテスト用で使用しているライブラリは `vue-test-utils` です。\nこれはVueのコンポーネントをテストするためのツールで、Vueをテストするにはほぼ必須です。\n\n:::success ユニットテストで使用するライブラリ\n- [jest](https://jestjs.io/ja/)\n- [vue-test-utils](https://vue-test-utils.vuejs.org/ja/)\n:::\n\n\n### ■ 機能テスト\n\n次に `機能テスト` では、複数のコンポーネントを組み合わせた `Webページ` そのものをテストしたいため、ブラウザを導入する必要がありました。\n\n\n仮想ブラウザは軽量ではありますが、jsdomではNuxtやVueRouterのライフサイクルフック（fetchやbeforeEnterなど）をエミュレートしてくれず断念。\n\nNightmareはメソッドチェーンで操作を記述する形式ですが、「複数の操作をメソッドチェーンでまとめて実行する」というこの記法はどちらかというと `シナリオ駆動型` のテスト向きで、\nパラメータを変えながら一つ一つの表示を確認するような動作にはあまり適していないと判断しました。\n\nこのようにいくつかのライブラリで試行錯誤をした結果、最終的にGoogleが開発している `puppeteer` を採用することにしました。\n\n\nさらに、 `puppeteer` と `jest` を連携するための `jest-puppeteer` というライブラリがあったのでそちらを使います。\nただの設定ファイル群ではありますが、環境構築の大変さを少しでも楽にしてくれるのはありがたい。\n\n\u003Cbr>\n\nまた、APIサーバからの戻り値によって変化する画面の検証を行うにあたり、 **APIのモックサーバ** を用意する必要がありました。\n\nモックサーバに求められる要件は下記の通り。\n\n1. フロントのソースコードに手を加えずにモックへの差し替えができること\n2. テスト中に戻り値を書き換えられること（パラメータを変えながら検証をするため）\n\nここで試したのが `jest` のモック機能。\n\njestはソースコード内の `import` で読み込んでいるモジュールをファイルごと差し替える機能を持っており、\n**フロントのソースコードに手を加えずに差し替え** ができます。\n\nですが、E2Eテストを行うにあたり、Nuxtのプロジェクトをビルド＆サーバ起動する必要が出ました。\n\n`jest` のモック機能では、ビルド済みのソースコードを差し替える機能は持っておらず、\nまたモックとして用意したモジュールはビルド後には外部から更新がかけられなかったりしたため、\n **テスト中に戻り値を書き換えられること** の要件が満たせず利用を諦めました。\n\n`sinon` も同様の理由から断念。\n\n\u003Cbr>\n\n最終的にAPI仕様の定義に使われ、開発用APIモックサーバとしても有名な `Swagger` を導入することになりました。\n\nこれは設計フェーズ〜フロントエンド開発の際によく使われるツールなのですが、\nAPI仕様を厳密に定義しつつモックサーバとしても機能する点から、ドキュメントとしても活躍が見込めるために採用しました。\n\nこちらはモックと言えど本物のサーバを起動するため、ビルド済みNuxtとは完全に切り離してコントロールできるため、\nAPIの向き先を変えるだけで `1,2` どちらの要件もクリアすることができました。\u003Csmall>（APIの向き先は .env に記載しているので、ソースコードは修正不要）\u003C/small>\n\n欠点としては、単にJSONを返すだけのモックを作成するのに、yaml でAPIの仕様を定義し、\nexpressサーバのコントローラを記述するという作成コストの重さ。\n\nこれは正直ちょっと面倒ではあるので、他に便利なものを知っている方がいたら教えて下さい。\n\n\n:::success 機能テストで使用するライブラリ\n- [jest](https://jestjs.io/ja/)\n- [puppeteer](https://pptr.dev/)\n- [jest-puppeteer](https://github.com/smooth-code/jest-puppeteer)\n- [vue-test-utils](https://vue-test-utils.vuejs.org/ja/)\n- [swagger-node](https://github.com/swagger-api/swagger-node)\n:::\n\n\n\u003Cins class=\"adsbygoogle\"\n     style=\"display:block; text-align:center;\"\n     data-ad-layout=\"in-article\"\n     data-ad-format=\"fluid\"\n     data-ad-client=\"ca-pub-9835503912749997\"\n     data-ad-slot=\"3132107137\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n\n## まとめ\n\n今回はテスト作成の方針と技術選定についてご紹介しました。\n\n\u003Cspan class=\"large blue\">「テストがないコードはレガシーコード」\u003C/span>とは有名な言葉ですが、\nレガシーではないコードにするための準備もなかなかのハードルの高さがありました。\n\n次回はいよいよ環境を構築していきたいと思います。お楽しみに！\n",{"id":80,"createdAt":81,"updatedAt":82,"publishedAt":81,"revisedAt":82,"name":83,"visible":17,"color":84},{"id":115,"createdAt":116,"updatedAt":117,"publishedAt":118,"revisedAt":119,"title":120,"type":121,"content":122,"category":123},"20201009","2024-08-11T07:36:45.308Z","2024-10-14T07:01:47.580Z","2020-10-09T12:31:00.000Z","2024-10-14T07:01:42.009Z","Vueのコンポーネント設計個人的ベストプラクティス",[10],"Vueのコンポーネント設計について、TLで少し話題になってたので僕なりのベストプラクティスを書いてみたいと思います。\n\n\n## 有名なアトミックデザインはどうか？\n\nアトミックデザインとは、コンポーネントをパーツの粒度に応じて原子や分子といった分類をする手法で、\n比較的有名なコンポーネントの設計手法です。\n\nこのアトミックデザイン、小さなコンポーネントを組み合わせて上位のコンポーネントを作成していくことから、\nボトムアップ的なアプローチをしていくことになります。\n\nしかし、実際にプロジェクトでアトミックデザインを取り入れるというのは難しいことに気付きました。\n\n- 一度しか使われない原子パーツが大量に溜まってしまい、ゴミ溜めのようになってしまう\n- ボトムアップな手法のため、上位のコンポーネントに変更が発生しやすい\n- 有機体なのかテンプレートなのかページなのか、分類しずらいものが出てくる\n- VuetifyなどのUIコンポーネントのセットを使う場合、原子や分子は不要なのでは？\n- **そもそもそのパーツ、他のパーツと組み合わせることを想定してませんよね？**\n\n各コンポーネントが適切に管理されているならば、この手法は確かに良い選択肢になるのかもしれません。\n\nですが、概念のわかりやすさに反して複雑なアトミックデザインは、\n昨今の開発現場で求められるスピード感や管理コストの低さといった要求との相性が悪く感じられたため、\n僕はアトミックデザインの設計手法は非推奨と考えています。\n\n::: tip\n非推奨とは言っても小規模な開発なら大した問題にもならないので、\nもし今個人開発でアトミックデザインを使ってみてる人がいましたら、\n僕個人の意見を真に受けてわざわざ設計をやり直したりする必要は無いと思います。\n:::\n\n\u003Cins class=\"adsbygoogle\"\n     style=\"display:block; text-align:center;\"\n     data-ad-layout=\"in-article\"\n     data-ad-format=\"fluid\"\n     data-ad-client=\"ca-pub-9835503912749997\"\n     data-ad-slot=\"5019903878\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n\n## 【個人的ベストプラクティス】Nuxt.jsのやり方に倣おう\n\nそこで行き着いた僕の個人的ベストプラクティスですが、 **Nuxt.js** の設計を倣った形式にするのが最も良いと考えました。\n\nNuxt.jsを挙げた理由としては下記のようなものがあります。\n\n- Vue.js界隈で最も有名なフレームワークで、誰もがその構造を知っている\n- Nuxt.jsで開発する場合、新しい概念を取り入れる必要がない\n- Layout > Page > Components というシンプルな構造で、上位のコンポーネントほど変更が少ない\n- 縛りが少なく応用が効きやすい\n\nはい、単純明快な理由ですね。\n\n探究心豊富なフロントエンド界隈からすると、真新しさがなさすぎてがっかりするかもしれません。\nですがこれほど強力なコンポーネント設計の指針が示されているのならば、ぜひ参考にすべきだと思います。\n\n\u003Cins class=\"adsbygoogle\"\n     style=\"display:block; text-align:center;\"\n     data-ad-layout=\"in-article\"\n     data-ad-format=\"fluid\"\n     data-ad-client=\"ca-pub-9835503912749997\"\n     data-ad-slot=\"3132107137\">\u003C/ins>\n\u003Cscript>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n\u003C/script>\n",{"id":80,"createdAt":81,"updatedAt":82,"publishedAt":81,"revisedAt":82,"name":83,"visible":17,"color":84},[125,126,127,128,134,135],{"id":80,"createdAt":81,"updatedAt":82,"publishedAt":81,"revisedAt":82,"name":83,"visible":17,"color":84},{"id":13,"createdAt":14,"updatedAt":15,"publishedAt":14,"revisedAt":15,"name":16,"visible":17,"color":18},{"id":43,"createdAt":44,"updatedAt":45,"publishedAt":44,"revisedAt":45,"name":46,"visible":17,"color":47},{"id":129,"createdAt":130,"updatedAt":131,"publishedAt":130,"revisedAt":131,"name":132,"visible":17,"color":133},"x88bk7jj7s3m","2024-07-20T03:51:23.971Z","2024-10-18T00:26:15.354Z","インフラ","#666666",{"id":57,"createdAt":58,"updatedAt":59,"publishedAt":58,"revisedAt":59,"name":60,"visible":17,"color":61},{"id":28,"createdAt":29,"updatedAt":30,"publishedAt":29,"revisedAt":31,"name":32,"visible":17},["Set"],["ShallowReactive",138],{},"/posts/20201029",1736670042635]</script>
<script>window.__NUXT__={};window.__NUXT__.config={public:{gtag:{enabled:true,initMode:"auto",id:"G-M1G6QFDE11",initCommands:[],config:{},tags:[],loadingStrategy:"defer",url:"https://www.googletagmanager.com/gtag/js"}},app:{baseURL:"/",buildId:"6eafbfbc-768c-4663-964b-d0e606d5c07f",buildAssetsDir:"/_nuxt/",cdnURL:""}}</script></body></html>